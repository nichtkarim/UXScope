/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Karim_Documents_Bachelorprojekt_src_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/analyze/route.ts */ \"(rsc)/./src/app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Karim\\\\Documents\\\\Bachelorprojekt\\\\src\\\\app\\\\api\\\\analyze\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Karim_Documents_Bachelorprojekt_src_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNLYXJpbSU1Q0RvY3VtZW50cyU1Q0JhY2hlbG9ycHJvamVrdCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDS2FyaW0lNUNEb2N1bWVudHMlNUNCYWNoZWxvcnByb2pla3QmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQzhCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxLYXJpbVxcXFxEb2N1bWVudHNcXFxcQmFjaGVsb3Jwcm9qZWt0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFuYWx5emVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FuYWx5emUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXplXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hbmFseXplL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcS2FyaW1cXFxcRG9jdW1lbnRzXFxcXEJhY2hlbG9ycHJvamVrdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXplXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/analyze/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/analyze/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_promptEngineering__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/promptEngineering */ \"(rsc)/./src/lib/promptEngineering.ts\");\n/* harmony import */ var _lib_llmProviders__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/llmProviders */ \"(rsc)/./src/lib/llmProviders.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const { image, context, userProfile } = await request.json();\n        // Extrahiere promptVariant aus context, falls vorhanden\n        const promptVariant = context?.promptVariant || 'extended';\n        console.log('🔍 Debug - Received context:', context);\n        console.log('🔍 Debug - Extracted promptVariant:', promptVariant);\n        // Validierung\n        if (!image && !context) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Bild oder Kontext erforderlich'\n            }, {\n                status: 400\n            });\n        }\n        if (!userProfile || !userProfile.selectedModel) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Benutzerprofil mit LLM-Modell erforderlich'\n            }, {\n                status: 400\n            });\n        }\n        // LLM-Konfiguration\n        const modelConfig = _lib_llmProviders__WEBPACK_IMPORTED_MODULE_2__.LLM_MODELS[userProfile.selectedModel];\n        if (!modelConfig) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Unbekanntes LLM-Modell: ${userProfile.selectedModel}`\n            }, {\n                status: 400\n            });\n        }\n        // API-Key-Validierung (außer für lokale LLMs)\n        if (modelConfig.requiresApiKey && !userProfile.apiKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `API-Key für ${modelConfig.name} nicht konfiguriert`\n            }, {\n                status: 400\n            });\n        }\n        console.log(`🤖 Starte Analyse mit ${modelConfig.name}...`);\n        // Warnung für Vision-Fähigkeiten\n        if (image && !modelConfig.supportsVision) {\n            console.warn(`⚠️ ${modelConfig.name} unterstützt keine Bild-Analyse. Nur Text wird analysiert.`);\n        }\n        const startTime = Date.now();\n        // App-Kontext erstellen\n        const appContext = {\n            appDescription: context?.description || 'Unbekannte Anwendung',\n            userTask: context?.userTask || 'Allgemeine Usability-Evaluation',\n            screenshot: image || '',\n            viewName: context?.viewName || 'Hauptansicht'\n        };\n        // Prompt generieren mit der korrekten Variante\n        const prompt = _lib_promptEngineering__WEBPACK_IMPORTED_MODULE_1__.PromptEngineer.createUsabilityPrompt(appContext, true, context?.customPrompt, promptVariant);\n        console.log('🔍 API Debug - Generated prompt length:', prompt.length);\n        console.log('🔍 API Debug - Prompt preview (first 300 chars):');\n        console.log(prompt.substring(0, 300) + '...');\n        // LLM aufrufen\n        const messages = [\n            {\n                role: 'user',\n                content: prompt\n            }\n        ];\n        if (image && modelConfig.supportsVision) {\n            messages[0].content = [\n                {\n                    type: 'text',\n                    text: prompt\n                },\n                {\n                    type: 'image_url',\n                    image_url: {\n                        url: image\n                    }\n                }\n            ];\n        }\n        const analysis = await (0,_lib_llmProviders__WEBPACK_IMPORTED_MODULE_2__.callLLM)(userProfile.selectedModel, userProfile.apiKey, messages);\n        const processingTime = Date.now() - startTime;\n        console.log(`✅ Analyse abgeschlossen mit ${modelConfig.name} in ${processingTime}ms`);\n        // Strukturierte Antwort für wissenschaftliche Auswertung\n        const scientificResponse = {\n            analysis,\n            metadata: {\n                llmModel: userProfile.selectedModel,\n                llmName: modelConfig.name,\n                promptUsed: prompt,\n                analysisTime: new Date().toISOString(),\n                processingTimeMs: processingTime,\n                supportsVision: modelConfig.supportsVision,\n                imageProvided: !!image,\n                contextProvided: !!context,\n                promptVariant,\n                userProfile: {\n                    name: userProfile.name,\n                    email: userProfile.email\n                }\n            }\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(scientificResponse);\n    } catch (error) {\n        console.error('❌ Analyse-Fehler:', error);\n        const errorMessage = error instanceof Error ? error.message : 'Unbekannter Fehler';\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Analyse fehlgeschlagen: ${errorMessage}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN6QlAsWUFBWVUsTUFBTSxFQUNsQmtCO1FBR0YsTUFBTVEsaUJBQWlCckIsS0FBS0MsR0FBRyxLQUFLRjtRQUNwQ1gsUUFBUUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCLEVBQUVJLFlBQVlHLElBQUksQ0FBQyxJQUFJLEVBQUV5QixlQUFlLEVBQUUsQ0FBQztRQUVwRix5REFBeUQ7UUFDekQsTUFBTUMscUJBQXFCO1lBQ3pCRjtZQUNBRyxVQUFVO2dCQUNSQyxVQUFVdkMsWUFBWU8sYUFBYTtnQkFDbkNpQyxTQUFTaEMsWUFBWUcsSUFBSTtnQkFDekI4QixZQUFZbEI7Z0JBQ1ptQixjQUFjLElBQUkzQixPQUFPNEIsV0FBVztnQkFDcENDLGtCQUFrQlI7Z0JBQ2xCeEIsZ0JBQWdCSixZQUFZSSxjQUFjO2dCQUMxQ2lDLGVBQWUsQ0FBQyxDQUFDL0M7Z0JBQ2pCZ0QsaUJBQWlCLENBQUMsQ0FBQy9DO2dCQUNuQkc7Z0JBQ0FGLGFBQWE7b0JBQ1hXLE1BQU1YLFlBQVlXLElBQUk7b0JBQ3RCb0MsT0FBTy9DLFlBQVkrQyxLQUFLO2dCQUMxQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPdkQscURBQVlBLENBQUNTLElBQUksQ0FBQ29DO0lBRTNCLEVBQUUsT0FBT2hDLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsTUFBTTJDLGVBQWUzQyxpQkFBaUI0QyxRQUFRNUMsTUFBTTZDLE9BQU8sR0FBRztRQUM5RCxPQUFPMUQscURBQVlBLENBQUNTLElBQUksQ0FDdEI7WUFBRUksT0FBTyxDQUFDLHdCQUF3QixFQUFFMkMsY0FBYztRQUFDLEdBQ25EO1lBQUUxQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxLYXJpbVxcRG9jdW1lbnRzXFxCYWNoZWxvcnByb2pla3RcXHNyY1xcYXBwXFxhcGlcXGFuYWx5emVcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBQcm9tcHRFbmdpbmVlciB9IGZyb20gJ0AvbGliL3Byb21wdEVuZ2luZWVyaW5nJ1xyXG5pbXBvcnQgeyBMTE1fTU9ERUxTLCBjYWxsTExNIH0gZnJvbSAnQC9saWIvbGxtUHJvdmlkZXJzJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IFxyXG4gICAgICBpbWFnZSwgXHJcbiAgICAgIGNvbnRleHQsIFxyXG4gICAgICB1c2VyUHJvZmlsZVxyXG4gICAgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBcclxuICAgIC8vIEV4dHJhaGllcmUgcHJvbXB0VmFyaWFudCBhdXMgY29udGV4dCwgZmFsbHMgdm9yaGFuZGVuXHJcbiAgICBjb25zdCBwcm9tcHRWYXJpYW50ID0gY29udGV4dD8ucHJvbXB0VmFyaWFudCB8fCAnZXh0ZW5kZWQnXHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCfwn5SNIERlYnVnIC0gUmVjZWl2ZWQgY29udGV4dDonLCBjb250ZXh0KVxyXG4gICAgY29uc29sZS5sb2coJ/CflI0gRGVidWcgLSBFeHRyYWN0ZWQgcHJvbXB0VmFyaWFudDonLCBwcm9tcHRWYXJpYW50KVxyXG4gICAgXHJcbiAgICAvLyBWYWxpZGllcnVuZ1xyXG4gICAgaWYgKCFpbWFnZSAmJiAhY29udGV4dCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0JpbGQgb2RlciBLb250ZXh0IGVyZm9yZGVybGljaCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdXNlclByb2ZpbGUgfHwgIXVzZXJQcm9maWxlLnNlbGVjdGVkTW9kZWwpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdCZW51dHplcnByb2ZpbCBtaXQgTExNLU1vZGVsbCBlcmZvcmRlcmxpY2gnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyBMTE0tS29uZmlndXJhdGlvblxyXG4gICAgY29uc3QgbW9kZWxDb25maWcgPSBMTE1fTU9ERUxTW3VzZXJQcm9maWxlLnNlbGVjdGVkTW9kZWxdXHJcbiAgICBpZiAoIW1vZGVsQ29uZmlnKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBgVW5iZWthbm50ZXMgTExNLU1vZGVsbDogJHt1c2VyUHJvZmlsZS5zZWxlY3RlZE1vZGVsfWAgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFQSS1LZXktVmFsaWRpZXJ1bmcgKGF1w59lciBmw7xyIGxva2FsZSBMTE1zKVxyXG4gICAgaWYgKG1vZGVsQ29uZmlnLnJlcXVpcmVzQXBpS2V5ICYmICF1c2VyUHJvZmlsZS5hcGlLZXkpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IGBBUEktS2V5IGbDvHIgJHttb2RlbENvbmZpZy5uYW1lfSBuaWNodCBrb25maWd1cmllcnRgIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+kliBTdGFydGUgQW5hbHlzZSBtaXQgJHttb2RlbENvbmZpZy5uYW1lfS4uLmApXHJcbiAgICBcclxuICAgIC8vIFdhcm51bmcgZsO8ciBWaXNpb24tRsOkaGlna2VpdGVuXHJcbiAgICBpZiAoaW1hZ2UgJiYgIW1vZGVsQ29uZmlnLnN1cHBvcnRzVmlzaW9uKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPICR7bW9kZWxDb25maWcubmFtZX0gdW50ZXJzdMO8dHp0IGtlaW5lIEJpbGQtQW5hbHlzZS4gTnVyIFRleHQgd2lyZCBhbmFseXNpZXJ0LmApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxyXG5cclxuICAgIC8vIEFwcC1Lb250ZXh0IGVyc3RlbGxlblxyXG4gICAgY29uc3QgYXBwQ29udGV4dCA9IHtcclxuICAgICAgYXBwRGVzY3JpcHRpb246IGNvbnRleHQ/LmRlc2NyaXB0aW9uIHx8ICdVbmJla2FubnRlIEFud2VuZHVuZycsXHJcbiAgICAgIHVzZXJUYXNrOiBjb250ZXh0Py51c2VyVGFzayB8fCAnQWxsZ2VtZWluZSBVc2FiaWxpdHktRXZhbHVhdGlvbicsXHJcbiAgICAgIHNjcmVlbnNob3Q6IGltYWdlIHx8ICcnLFxyXG4gICAgICB2aWV3TmFtZTogY29udGV4dD8udmlld05hbWUgfHwgJ0hhdXB0YW5zaWNodCdcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9tcHQgZ2VuZXJpZXJlbiBtaXQgZGVyIGtvcnJla3RlbiBWYXJpYW50ZVxyXG4gICAgY29uc3QgcHJvbXB0ID0gUHJvbXB0RW5naW5lZXIuY3JlYXRlVXNhYmlsaXR5UHJvbXB0KFxyXG4gICAgICBhcHBDb250ZXh0LCBcclxuICAgICAgdHJ1ZSwgXHJcbiAgICAgIGNvbnRleHQ/LmN1c3RvbVByb21wdCwgXHJcbiAgICAgIHByb21wdFZhcmlhbnRcclxuICAgIClcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ/CflI0gQVBJIERlYnVnIC0gR2VuZXJhdGVkIHByb21wdCBsZW5ndGg6JywgcHJvbXB0Lmxlbmd0aClcclxuICAgIGNvbnNvbGUubG9nKCfwn5SNIEFQSSBEZWJ1ZyAtIFByb21wdCBwcmV2aWV3IChmaXJzdCAzMDAgY2hhcnMpOicpXHJcbiAgICBjb25zb2xlLmxvZyhwcm9tcHQuc3Vic3RyaW5nKDAsIDMwMCkgKyAnLi4uJylcclxuXHJcbiAgICAvLyBMTE0gYXVmcnVmZW5cclxuICAgIGNvbnN0IG1lc3NhZ2VzOiBhbnlbXSA9IFtcclxuICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdCB9XHJcbiAgICBdXHJcbiAgICBcclxuICAgIGlmIChpbWFnZSAmJiBtb2RlbENvbmZpZy5zdXBwb3J0c1Zpc2lvbikge1xyXG4gICAgICBtZXNzYWdlc1swXS5jb250ZW50ID0gW1xyXG4gICAgICAgIHsgdHlwZTogJ3RleHQnLCB0ZXh0OiBwcm9tcHQgfSxcclxuICAgICAgICB7IHR5cGU6ICdpbWFnZV91cmwnLCBpbWFnZV91cmw6IHsgdXJsOiBpbWFnZSB9IH1cclxuICAgICAgXVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGNhbGxMTE0oXHJcbiAgICAgIHVzZXJQcm9maWxlLnNlbGVjdGVkTW9kZWwsXHJcbiAgICAgIHVzZXJQcm9maWxlLmFwaUtleSxcclxuICAgICAgbWVzc2FnZXNcclxuICAgIClcclxuICAgIFxyXG4gICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIEFuYWx5c2UgYWJnZXNjaGxvc3NlbiBtaXQgJHttb2RlbENvbmZpZy5uYW1lfSBpbiAke3Byb2Nlc3NpbmdUaW1lfW1zYClcclxuICAgIFxyXG4gICAgLy8gU3RydWt0dXJpZXJ0ZSBBbnR3b3J0IGbDvHIgd2lzc2Vuc2NoYWZ0bGljaGUgQXVzd2VydHVuZ1xyXG4gICAgY29uc3Qgc2NpZW50aWZpY1Jlc3BvbnNlID0ge1xyXG4gICAgICBhbmFseXNpcyxcclxuICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICBsbG1Nb2RlbDogdXNlclByb2ZpbGUuc2VsZWN0ZWRNb2RlbCxcclxuICAgICAgICBsbG1OYW1lOiBtb2RlbENvbmZpZy5uYW1lLFxyXG4gICAgICAgIHByb21wdFVzZWQ6IHByb21wdCxcclxuICAgICAgICBhbmFseXNpc1RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBwcm9jZXNzaW5nVGltZU1zOiBwcm9jZXNzaW5nVGltZSxcclxuICAgICAgICBzdXBwb3J0c1Zpc2lvbjogbW9kZWxDb25maWcuc3VwcG9ydHNWaXNpb24sXHJcbiAgICAgICAgaW1hZ2VQcm92aWRlZDogISFpbWFnZSxcclxuICAgICAgICBjb250ZXh0UHJvdmlkZWQ6ICEhY29udGV4dCxcclxuICAgICAgICBwcm9tcHRWYXJpYW50LFxyXG4gICAgICAgIHVzZXJQcm9maWxlOiB7XHJcbiAgICAgICAgICBuYW1lOiB1c2VyUHJvZmlsZS5uYW1lLFxyXG4gICAgICAgICAgZW1haWw6IHVzZXJQcm9maWxlLmVtYWlsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihzY2llbnRpZmljUmVzcG9uc2UpXHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEFuYWx5c2UtRmVobGVyOicsIGVycm9yKVxyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5iZWthbm50ZXIgRmVobGVyJ1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiBgQW5hbHlzZSBmZWhsZ2VzY2hsYWdlbjogJHtlcnJvck1lc3NhZ2V9YCB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlByb21wdEVuZ2luZWVyIiwiTExNX01PREVMUyIsImNhbGxMTE0iLCJQT1NUIiwicmVxdWVzdCIsImltYWdlIiwiY29udGV4dCIsInVzZXJQcm9maWxlIiwianNvbiIsInByb21wdFZhcmlhbnQiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJzdGF0dXMiLCJzZWxlY3RlZE1vZGVsIiwibW9kZWxDb25maWciLCJyZXF1aXJlc0FwaUtleSIsImFwaUtleSIsIm5hbWUiLCJzdXBwb3J0c1Zpc2lvbiIsIndhcm4iLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiYXBwQ29udGV4dCIsImFwcERlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ1c2VyVGFzayIsInNjcmVlbnNob3QiLCJ2aWV3TmFtZSIsInByb21wdCIsImNyZWF0ZVVzYWJpbGl0eVByb21wdCIsImN1c3RvbVByb21wdCIsImxlbmd0aCIsInN1YnN0cmluZyIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0eXBlIiwidGV4dCIsImltYWdlX3VybCIsInVybCIsImFuYWx5c2lzIiwicHJvY2Vzc2luZ1RpbWUiLCJzY2llbnRpZmljUmVzcG9uc2UiLCJtZXRhZGF0YSIsImxsbU1vZGVsIiwibGxtTmFtZSIsInByb21wdFVzZWQiLCJhbmFseXNpc1RpbWUiLCJ0b0lTT1N0cmluZyIsInByb2Nlc3NpbmdUaW1lTXMiLCJpbWFnZVByb3ZpZGVkIiwiY29udGV4dFByb3ZpZGVkIiwiZW1haWwiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/analyze/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/llmProviders.ts":
/*!*********************************!*\
  !*** ./src/lib/llmProviders.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LLM_MODELS: () => (/* binding */ LLM_MODELS),\n/* harmony export */   callLLM: () => (/* binding */ callLLM),\n/* harmony export */   validateApiKey: () => (/* binding */ validateApiKey)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @anthropic-ai/sdk */ \"(rsc)/./node_modules/@anthropic-ai/sdk/index.mjs\");\n/* harmony import */ var together_ai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! together-ai */ \"(rsc)/./node_modules/together-ai/index.mjs\");\n\n\n\nconst LLM_MODELS = {\n    'gpt-4o': {\n        id: 'gpt-4o',\n        name: 'GPT-4o',\n        provider: 'openai',\n        requiresApiKey: true,\n        supportsVision: true,\n        modelId: 'gpt-4o'\n    },\n    'gpt-4o-mini': {\n        id: 'gpt-4o-mini',\n        name: 'GPT-4o Mini',\n        provider: 'openai',\n        requiresApiKey: true,\n        supportsVision: true,\n        modelId: 'gpt-4o-mini'\n    },\n    'claude-3-5-sonnet': {\n        id: 'claude-3-5-sonnet',\n        name: 'Claude 3.5 Sonnet',\n        provider: 'anthropic',\n        requiresApiKey: true,\n        supportsVision: true,\n        modelId: 'claude-3-5-sonnet-20241022'\n    },\n    'claude-3-haiku': {\n        id: 'claude-3-haiku',\n        name: 'Claude 3 Haiku',\n        provider: 'anthropic',\n        requiresApiKey: true,\n        supportsVision: true,\n        modelId: 'claude-3-haiku-20240307'\n    },\n    'llama-3.3-70b': {\n        id: 'llama-3.3-70b',\n        name: 'Llama 3.3 70B',\n        provider: 'together',\n        requiresApiKey: true,\n        supportsVision: false,\n        modelId: 'meta-llama/Llama-3.3-70B-Instruct-Turbo'\n    },\n    'llama-3.1-local': {\n        id: 'llama-3.1-local',\n        name: 'Llama 3.1 (Local)',\n        provider: 'local',\n        requiresApiKey: false,\n        supportsVision: false,\n        modelId: 'llama3.1'\n    }\n};\nconst validateApiKey = (provider, apiKey)=>{\n    if (!apiKey || apiKey.trim() === '') return false;\n    switch(provider){\n        case 'openai':\n            return apiKey.startsWith('sk-') && apiKey.length > 20;\n        case 'anthropic':\n            return apiKey.startsWith('sk-ant-') && apiKey.length > 20;\n        case 'together':\n            return apiKey.length > 20 && !apiKey.startsWith('sk-');\n        case 'local':\n            return true // Local models don't need API keys\n            ;\n        default:\n            return false;\n    }\n};\nconst callLLM = async (modelId, apiKey, messages, options = {})=>{\n    const config = LLM_MODELS[modelId];\n    if (!config) {\n        throw new Error(`Unsupported model: ${modelId}`);\n    }\n    if (config.requiresApiKey && !validateApiKey(config.provider, apiKey)) {\n        throw new Error('Invalid API key');\n    }\n    switch(config.provider){\n        case 'openai':\n            return await callOpenAI(config.modelId, apiKey, messages, options);\n        case 'anthropic':\n            return await callAnthropic(config.modelId, apiKey, messages, options);\n        case 'together':\n            return await callTogether(config.modelId, apiKey, messages, options);\n        case 'local':\n            return await callLocal(config.modelId, messages, options);\n        default:\n            throw new Error(`Unsupported provider: ${config.provider}`);\n    }\n};\nasync function callOpenAI(model, apiKey, messages, options) {\n    const openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        apiKey\n    });\n    const response = await openai.chat.completions.create({\n        model,\n        messages,\n        temperature: options.temperature || 0.7,\n        max_tokens: options.max_tokens || 2000\n    });\n    return response.choices[0]?.message?.content || '';\n}\nasync function callAnthropic(model, apiKey, messages, options) {\n    const anthropic = new _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n        apiKey\n    });\n    // Convert OpenAI format to Anthropic format\n    const systemMessage = messages.find((m)=>m.role === 'system');\n    const userMessages = messages.filter((m)=>m.role !== 'system');\n    const response = await anthropic.messages.create({\n        model,\n        max_tokens: options.max_tokens || 2000,\n        system: systemMessage?.content || '',\n        messages: userMessages,\n        temperature: options.temperature || 0.7\n    });\n    return response.content[0]?.type === 'text' ? response.content[0].text : '';\n}\nasync function callTogether(model, apiKey, messages, options) {\n    const together = new together_ai__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n        apiKey\n    });\n    const response = await together.chat.completions.create({\n        model,\n        messages,\n        temperature: options.temperature || 0.7,\n        max_tokens: options.max_tokens || 2000\n    });\n    return response.choices[0]?.message?.content || '';\n}\nasync function callLocal(model, messages, options) {\n    // Call local Ollama instance\n    const response = await fetch('http://localhost:11434/api/chat', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            model,\n            messages,\n            stream: false,\n            options: {\n                temperature: options.temperature || 0.7,\n                num_predict: options.max_tokens || 2000\n            }\n        })\n    });\n    if (!response.ok) {\n        throw new Error(`Local LLM error: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data.message?.content || '';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVSLFFBQWUsRUFBRUMsT0FBWTtJQUNuRSw2QkFBNkI7SUFDN0IsTUFBTVMsV0FBVyxNQUFNb0IsTUFBTSxtQ0FBbUM7UUFDOURDLFFBQVE7UUFDUkMsU0FBUztZQUNQLGdCQUFnQjtRQUNsQjtRQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7WUFDbkIzQjtZQUNBUjtZQUNBb0MsUUFBUTtZQUNSbkMsU0FBUztnQkFDUGEsYUFBYWIsUUFBUWEsV0FBVyxJQUFJO2dCQUNwQ3VCLGFBQWFwQyxRQUFRYyxVQUFVLElBQUk7WUFDckM7UUFDRjtJQUNGO0lBRUEsSUFBSSxDQUFDTCxTQUFTNEIsRUFBRSxFQUFFO1FBQ2hCLE1BQU0sSUFBSW5DLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRU8sU0FBUzZCLFVBQVUsRUFBRTtJQUMzRDtJQUVBLE1BQU1DLE9BQU8sTUFBTTlCLFNBQVMrQixJQUFJO0lBQ2hDLE9BQU9ELEtBQUt2QixPQUFPLEVBQUVDLFdBQVc7QUFDbEMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcS2FyaW1cXERvY3VtZW50c1xcQmFjaGVsb3Jwcm9qZWt0XFxzcmNcXGxpYlxcbGxtUHJvdmlkZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJ1xyXG5pbXBvcnQgQW50aHJvcGljIGZyb20gJ0BhbnRocm9waWMtYWkvc2RrJ1xyXG5pbXBvcnQgVG9nZXRoZXIgZnJvbSAndG9nZXRoZXItYWknXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExMTUNvbmZpZyB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIHByb3ZpZGVyOiAnb3BlbmFpJyB8ICdhbnRocm9waWMnIHwgJ3RvZ2V0aGVyJyB8ICdsb2NhbCdcclxuICByZXF1aXJlc0FwaUtleTogYm9vbGVhblxyXG4gIHN1cHBvcnRzVmlzaW9uOiBib29sZWFuXHJcbiAgbW9kZWxJZD86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTExNX01PREVMUzogUmVjb3JkPHN0cmluZywgTExNQ29uZmlnPiA9IHtcclxuICAnZ3B0LTRvJzoge1xyXG4gICAgaWQ6ICdncHQtNG8nLFxyXG4gICAgbmFtZTogJ0dQVC00bycsXHJcbiAgICBwcm92aWRlcjogJ29wZW5haScsXHJcbiAgICByZXF1aXJlc0FwaUtleTogdHJ1ZSxcclxuICAgIHN1cHBvcnRzVmlzaW9uOiB0cnVlLFxyXG4gICAgbW9kZWxJZDogJ2dwdC00bydcclxuICB9LFxyXG4gICdncHQtNG8tbWluaSc6IHtcclxuICAgIGlkOiAnZ3B0LTRvLW1pbmknLFxyXG4gICAgbmFtZTogJ0dQVC00byBNaW5pJyxcclxuICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcclxuICAgIHJlcXVpcmVzQXBpS2V5OiB0cnVlLFxyXG4gICAgc3VwcG9ydHNWaXNpb246IHRydWUsXHJcbiAgICBtb2RlbElkOiAnZ3B0LTRvLW1pbmknXHJcbiAgfSxcclxuICAnY2xhdWRlLTMtNS1zb25uZXQnOiB7XHJcbiAgICBpZDogJ2NsYXVkZS0zLTUtc29ubmV0JyxcclxuICAgIG5hbWU6ICdDbGF1ZGUgMy41IFNvbm5ldCcsXHJcbiAgICBwcm92aWRlcjogJ2FudGhyb3BpYycsXHJcbiAgICByZXF1aXJlc0FwaUtleTogdHJ1ZSxcclxuICAgIHN1cHBvcnRzVmlzaW9uOiB0cnVlLFxyXG4gICAgbW9kZWxJZDogJ2NsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyJ1xyXG4gIH0sXHJcbiAgJ2NsYXVkZS0zLWhhaWt1Jzoge1xyXG4gICAgaWQ6ICdjbGF1ZGUtMy1oYWlrdScsXHJcbiAgICBuYW1lOiAnQ2xhdWRlIDMgSGFpa3UnLFxyXG4gICAgcHJvdmlkZXI6ICdhbnRocm9waWMnLFxyXG4gICAgcmVxdWlyZXNBcGlLZXk6IHRydWUsXHJcbiAgICBzdXBwb3J0c1Zpc2lvbjogdHJ1ZSxcclxuICAgIG1vZGVsSWQ6ICdjbGF1ZGUtMy1oYWlrdS0yMDI0MDMwNydcclxuICB9LFxyXG4gICdsbGFtYS0zLjMtNzBiJzoge1xyXG4gICAgaWQ6ICdsbGFtYS0zLjMtNzBiJyxcclxuICAgIG5hbWU6ICdMbGFtYSAzLjMgNzBCJyxcclxuICAgIHByb3ZpZGVyOiAndG9nZXRoZXInLFxyXG4gICAgcmVxdWlyZXNBcGlLZXk6IHRydWUsXHJcbiAgICBzdXBwb3J0c1Zpc2lvbjogZmFsc2UsXHJcbiAgICBtb2RlbElkOiAnbWV0YS1sbGFtYS9MbGFtYS0zLjMtNzBCLUluc3RydWN0LVR1cmJvJ1xyXG4gIH0sXHJcbiAgJ2xsYW1hLTMuMS1sb2NhbCc6IHtcclxuICAgIGlkOiAnbGxhbWEtMy4xLWxvY2FsJyxcclxuICAgIG5hbWU6ICdMbGFtYSAzLjEgKExvY2FsKScsXHJcbiAgICBwcm92aWRlcjogJ2xvY2FsJyxcclxuICAgIHJlcXVpcmVzQXBpS2V5OiBmYWxzZSxcclxuICAgIHN1cHBvcnRzVmlzaW9uOiBmYWxzZSxcclxuICAgIG1vZGVsSWQ6ICdsbGFtYTMuMSdcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUFwaUtleSA9IChwcm92aWRlcjogc3RyaW5nLCBhcGlLZXk6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gIGlmICghYXBpS2V5IHx8IGFwaUtleS50cmltKCkgPT09ICcnKSByZXR1cm4gZmFsc2VcclxuICBcclxuICBzd2l0Y2ggKHByb3ZpZGVyKSB7XHJcbiAgICBjYXNlICdvcGVuYWknOlxyXG4gICAgICByZXR1cm4gYXBpS2V5LnN0YXJ0c1dpdGgoJ3NrLScpICYmIGFwaUtleS5sZW5ndGggPiAyMFxyXG4gICAgY2FzZSAnYW50aHJvcGljJzpcclxuICAgICAgcmV0dXJuIGFwaUtleS5zdGFydHNXaXRoKCdzay1hbnQtJykgJiYgYXBpS2V5Lmxlbmd0aCA+IDIwXHJcbiAgICBjYXNlICd0b2dldGhlcic6XHJcbiAgICAgIHJldHVybiBhcGlLZXkubGVuZ3RoID4gMjAgJiYgIWFwaUtleS5zdGFydHNXaXRoKCdzay0nKVxyXG4gICAgY2FzZSAnbG9jYWwnOlxyXG4gICAgICByZXR1cm4gdHJ1ZSAvLyBMb2NhbCBtb2RlbHMgZG9uJ3QgbmVlZCBBUEkga2V5c1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2FsbExMTSA9IGFzeW5jIChcclxuICBtb2RlbElkOiBzdHJpbmcsXHJcbiAgYXBpS2V5OiBzdHJpbmcsXHJcbiAgbWVzc2FnZXM6IGFueVtdLFxyXG4gIG9wdGlvbnM6IGFueSA9IHt9XHJcbik6IFByb21pc2U8c3RyaW5nPiA9PiB7XHJcbiAgY29uc3QgY29uZmlnID0gTExNX01PREVMU1ttb2RlbElkXVxyXG4gIGlmICghY29uZmlnKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1vZGVsOiAke21vZGVsSWR9YClcclxuICB9XHJcblxyXG4gIGlmIChjb25maWcucmVxdWlyZXNBcGlLZXkgJiYgIXZhbGlkYXRlQXBpS2V5KGNvbmZpZy5wcm92aWRlciwgYXBpS2V5KSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFQSSBrZXknKVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoIChjb25maWcucHJvdmlkZXIpIHtcclxuICAgIGNhc2UgJ29wZW5haSc6XHJcbiAgICAgIHJldHVybiBhd2FpdCBjYWxsT3BlbkFJKGNvbmZpZy5tb2RlbElkISwgYXBpS2V5LCBtZXNzYWdlcywgb3B0aW9ucylcclxuICAgIGNhc2UgJ2FudGhyb3BpYyc6XHJcbiAgICAgIHJldHVybiBhd2FpdCBjYWxsQW50aHJvcGljKGNvbmZpZy5tb2RlbElkISwgYXBpS2V5LCBtZXNzYWdlcywgb3B0aW9ucylcclxuICAgIGNhc2UgJ3RvZ2V0aGVyJzpcclxuICAgICAgcmV0dXJuIGF3YWl0IGNhbGxUb2dldGhlcihjb25maWcubW9kZWxJZCEsIGFwaUtleSwgbWVzc2FnZXMsIG9wdGlvbnMpXHJcbiAgICBjYXNlICdsb2NhbCc6XHJcbiAgICAgIHJldHVybiBhd2FpdCBjYWxsTG9jYWwoY29uZmlnLm1vZGVsSWQhLCBtZXNzYWdlcywgb3B0aW9ucylcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcHJvdmlkZXI6ICR7Y29uZmlnLnByb3ZpZGVyfWApXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjYWxsT3BlbkFJKG1vZGVsOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nLCBtZXNzYWdlczogYW55W10sIG9wdGlvbnM6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7IGFwaUtleSB9KVxyXG4gIFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcclxuICAgIG1vZGVsLFxyXG4gICAgbWVzc2FnZXMsXHJcbiAgICB0ZW1wZXJhdHVyZTogb3B0aW9ucy50ZW1wZXJhdHVyZSB8fCAwLjcsXHJcbiAgICBtYXhfdG9rZW5zOiBvcHRpb25zLm1heF90b2tlbnMgfHwgMjAwMCxcclxuICB9KVxyXG5cclxuICByZXR1cm4gcmVzcG9uc2UuY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCB8fCAnJ1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjYWxsQW50aHJvcGljKG1vZGVsOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nLCBtZXNzYWdlczogYW55W10sIG9wdGlvbnM6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgYW50aHJvcGljID0gbmV3IEFudGhyb3BpYyh7IGFwaUtleSB9KVxyXG4gIFxyXG4gIC8vIENvbnZlcnQgT3BlbkFJIGZvcm1hdCB0byBBbnRocm9waWMgZm9ybWF0XHJcbiAgY29uc3Qgc3lzdGVtTWVzc2FnZSA9IG1lc3NhZ2VzLmZpbmQobSA9PiBtLnJvbGUgPT09ICdzeXN0ZW0nKVxyXG4gIGNvbnN0IHVzZXJNZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSAhPT0gJ3N5c3RlbScpXHJcbiAgXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhbnRocm9waWMubWVzc2FnZXMuY3JlYXRlKHtcclxuICAgIG1vZGVsLFxyXG4gICAgbWF4X3Rva2Vuczogb3B0aW9ucy5tYXhfdG9rZW5zIHx8IDIwMDAsXHJcbiAgICBzeXN0ZW06IHN5c3RlbU1lc3NhZ2U/LmNvbnRlbnQgfHwgJycsXHJcbiAgICBtZXNzYWdlczogdXNlck1lc3NhZ2VzLFxyXG4gICAgdGVtcGVyYXR1cmU6IG9wdGlvbnMudGVtcGVyYXR1cmUgfHwgMC43LFxyXG4gIH0pXHJcblxyXG4gIHJldHVybiByZXNwb25zZS5jb250ZW50WzBdPy50eXBlID09PSAndGV4dCcgPyByZXNwb25zZS5jb250ZW50WzBdLnRleHQgOiAnJ1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjYWxsVG9nZXRoZXIobW9kZWw6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcsIG1lc3NhZ2VzOiBhbnlbXSwgb3B0aW9uczogYW55KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCB0b2dldGhlciA9IG5ldyBUb2dldGhlcih7IGFwaUtleSB9KVxyXG4gIFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9nZXRoZXIuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgbW9kZWwsXHJcbiAgICBtZXNzYWdlcyxcclxuICAgIHRlbXBlcmF0dXJlOiBvcHRpb25zLnRlbXBlcmF0dXJlIHx8IDAuNyxcclxuICAgIG1heF90b2tlbnM6IG9wdGlvbnMubWF4X3Rva2VucyB8fCAyMDAwLFxyXG4gIH0pXHJcblxyXG4gIHJldHVybiByZXNwb25zZS5jaG9pY2VzWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8ICcnXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNhbGxMb2NhbChtb2RlbDogc3RyaW5nLCBtZXNzYWdlczogYW55W10sIG9wdGlvbnM6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgLy8gQ2FsbCBsb2NhbCBPbGxhbWEgaW5zdGFuY2VcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjExNDM0L2FwaS9jaGF0Jywge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBtb2RlbCxcclxuICAgICAgbWVzc2FnZXMsXHJcbiAgICAgIHN0cmVhbTogZmFsc2UsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICB0ZW1wZXJhdHVyZTogb3B0aW9ucy50ZW1wZXJhdHVyZSB8fCAwLjcsXHJcbiAgICAgICAgbnVtX3ByZWRpY3Q6IG9wdGlvbnMubWF4X3Rva2VucyB8fCAyMDAwLFxyXG4gICAgICB9LFxyXG4gICAgfSksXHJcbiAgfSlcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBMb2NhbCBMTE0gZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIHJldHVybiBkYXRhLm1lc3NhZ2U/LmNvbnRlbnQgfHwgJydcclxufVxyXG4iXSwibmFtZXMiOlsiT3BlbkFJIiwiQW50aHJvcGljIiwiVG9nZXRoZXIiLCJMTE1fTU9ERUxTIiwiaWQiLCJuYW1lIiwicHJvdmlkZXIiLCJyZXF1aXJlc0FwaUtleSIsInN1cHBvcnRzVmlzaW9uIiwibW9kZWxJZCIsInZhbGlkYXRlQXBpS2V5IiwiYXBpS2V5IiwidHJpbSIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJjYWxsTExNIiwibWVzc2FnZXMiLCJvcHRpb25zIiwiY29uZmlnIiwiRXJyb3IiLCJjYWxsT3BlbkFJIiwiY2FsbEFudGhyb3BpYyIsImNhbGxUb2dldGhlciIsImNhbGxMb2NhbCIsIm1vZGVsIiwib3BlbmFpIiwicmVzcG9uc2UiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJjaG9pY2VzIiwibWVzc2FnZSIsImNvbnRlbnQiLCJhbnRocm9waWMiLCJzeXN0ZW1NZXNzYWdlIiwiZmluZCIsIm0iLCJyb2xlIiwidXNlck1lc3NhZ2VzIiwiZmlsdGVyIiwic3lzdGVtIiwidHlwZSIsInRleHQiLCJ0b2dldGhlciIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RyZWFtIiwibnVtX3ByZWRpY3QiLCJvayIsInN0YXR1c1RleHQiLCJkYXRhIiwianNvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/llmProviders.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/promptEngineering.ts":
/*!**************************************!*\
  !*** ./src/lib/promptEngineering.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelSpecificPrompts: () => (/* binding */ ModelSpecificPrompts),\n/* harmony export */   PromptEngineer: () => (/* binding */ PromptEngineer),\n/* harmony export */   ResponseValidator: () => (/* binding */ ResponseValidator)\n/* harmony export */ });\nclass PromptEngineer {\n    static{\n        /**\r\n   * A/B Testing Konfiguration für Prompt-Varianten\r\n   * \r\n   * FORSCHUNGS-HINWEIS:\r\n   * Diese Implementierung ermöglicht das Testen zweier wissenschaftlich fundierter Prompt-Ansätze:\r\n   * \r\n   * 1. \"PURE\" - Minimalistischer Ansatz basierend auf UX-LLM Studie (IEEE Xplore: 11029918)\r\n   *    - Kurze, prägnante Instruktionen\r\n   *    - Fokus auf offene Problemidentifikation\r\n   *    - Keine detaillierten Kategorien oder Frameworks\r\n   *    - Direkter Transfer aus der veröffentlichten IEEE-Studie\r\n   * \r\n   * 2. \"EXTENDED\" - Erweiterte Variante für Thesis-Level Analyse\r\n   *    - Detaillierte Expertise-Beschreibung\r\n   *    - Strukturierte Problemkategorien\r\n   *    - Wissenschaftliche Analysemethodik\r\n   *    - Umfassende Qualitätskriterien\r\n   * \r\n   * Verwendung für A/B Testing:\r\n   * - Verwende 'PURE' für Vergleichbarkeit mit der UX-LLM Studie\r\n   * - Verwende 'EXTENDED' für detailliertere wissenschaftliche Analyse\r\n   * - Dokumentiere Ergebnisse beider Varianten für empirische Auswertung\r\n   */ this.PROMPT_VARIANTS = {\n            PURE: 'pure',\n            EXTENDED: 'extended' // Erweitert, thesis-level\n        };\n    }\n    /**\r\n   * Erstellt einen strukturierten Prompt für die Usability-Analyse\r\n   * mit Persona-Instruktion und klarer Inputgestaltung\r\n   * \r\n   * @param appContext - App-Kontext für die Analyse\r\n   * @param includeExamples - Ob Beispiele inkludiert werden sollen\r\n   * @param customPrompt - Benutzerdefinierte Zusatzanweisungen\r\n   * @param variant - Prompt-Variante für A/B Testing ('pure' oder 'extended')\r\n   */ static createUsabilityPrompt(appContext, includeExamples = false, customPrompt, variant = 'extended') {\n        console.log('🔍 PromptEngineer Debug - Creating prompt with variant:', variant);\n        // Auswahl der Prompt-Variante basierend auf Parameter\n        const systemPrompt = variant === 'pure' ? this.getPureSystemPrompt() : this.getExtendedSystemPrompt();\n        const structuredInput = this.formatStructuredInput(appContext);\n        const examples = includeExamples ? this.getExamples() : '';\n        const instructions = variant === 'pure' ? this.getPureInstructions() : this.getExtendedInstructions();\n        console.log('🔍 PromptEngineer Debug - Selected system prompt type:', variant === 'pure' ? 'PURE' : 'EXTENDED');\n        console.log('🔍 PromptEngineer Debug - System prompt length:', systemPrompt.length);\n        console.log('🔍 PromptEngineer Debug - Instructions length:', instructions.length);\n        // Benutzerdefinierte Prompt einbinden, falls vorhanden\n        const customInstructions = customPrompt ? this.formatCustomPrompt(customPrompt) : '';\n        const finalPrompt = `${systemPrompt}\n\n${examples}\n\n${structuredInput}\n\n${instructions}\n\n${customInstructions}`;\n        console.log('🔍 PromptEngineer Debug - Final prompt length:', finalPrompt.length);\n        console.log('🔍 PromptEngineer Debug - Final prompt preview (first 200 chars):', finalPrompt.substring(0, 200) + '...');\n        return finalPrompt;\n    }\n    /**\r\n   * Formatiert die benutzerdefinierte Prompt\r\n   */ static formatCustomPrompt(customPrompt) {\n        return `\n<zusaetzliche_anforderungen>\nBerücksichtige zusätzlich folgende spezifische Anforderungen des Benutzers:\n\n${customPrompt}\n\nIntegriere diese Anforderungen in deine Analyse und gehe besonders auf diese Aspekte ein.\n</zusaetzliche_anforderungen>`;\n    }\n    /**\r\n   * PURE System-Prompt basierend auf UX-LLM Studie (IEEE Xplore: 11029918)\r\n   * Minimalistische Instruktionen für studienkonformen Ansatz (auf Deutsch)\r\n   */ static getPureSystemPrompt() {\n        return `Du bist ein UX-Experte für mobile Apps. Deine Aufgabe ist es, Usability-Probleme basierend auf den Informationen über eine App-Ansicht zu identifizieren. Ein Beispiel für ein Usability-Problem könnte sein: 'Fehlendes visuelles Feedback bei Nutzerinteraktionen'.\n\nAntworte in der App-Domänen-Sprache; verwende keine technische Terminologie und erwähne keine Code-Details. Zähle die identifizierten Probleme auf; füge einen leeren Absatz nach jeder Aufzählung hinzu; keine einleitenden oder abschließenden Texte.`;\n    }\n    /**\r\n   * EXTENDED System-Prompt für detaillierte Thesis-Level Analyse\r\n   * Umfassende Expertise-Beschreibung mit wissenschaftlicher Fundierung\r\n   * Subtile Integration von Nielsen's Heuristiken und ISO-Standards als Bewertungskriterien\r\n   */ static getExtendedSystemPrompt() {\n        return `Du bist ein erfahrener UX-Experte mit spezialisierter Expertise in der mobilen App-Evaluation. Deine Aufgabe ist es, Usability-Probleme systematisch zu identifizieren und zu bewerten, basierend auf etablierten UX-Prinzipien und wissenschaftlichen Erkenntnissen.\n\n## Deine Expertise umfasst:\n• **Mobile Usability**: Spezialkenntnisse in iOS und Android Interface-Guidelines\n• **Visuelle Hierarchie**: Analyse von Kontrasten, Typografie und Layout-Strukturen  \n• **Interaktionsdesign**: Bewertung von Touch-Targets, Feedback-Mechanismen und Mikrointeraktionen\n• **Barrierefreiheit**: WCAG 2.1 Compliance und assistive Technologien\n• **Nutzerpsychologie**: Mentale Modelle, kognitive Belastung und Aufmerksamkeitsführung\n• **Benutzerführung**: Analyse von Arbeitsabläufen, Lernbarkeit und Nutzerautonomie\n\n## Analysemethodik (basierend auf UX-LLM Forschung):\n**Fokussiere auf folgende bewährte Problemkategorien:**\n\n### Visuelle und Wahrnehmungsprobleme:\n- Kontrast-Probleme zwischen Text und Hintergrund\n- Inkonsistente Farbschemata oder Theme-Behandlung\n- Fehlende visuelle Hierarchie oder Informationsarchitektur\n- Unleserliche oder zu kleine Schriftgrößen\n- Problematische Icon-Verwendung ohne Beschriftung\n\n### Interaktions- und Feedback-Probleme:\n- Fehlendes visuelles Feedback bei Nutzerinteraktionen\n- Unklare oder mehrdeutige Bedienelemente\n- Zu kleine Touch-Targets (unter 44px)\n- Inkonsistente Interaktionsmuster\n- Fehlende oder verwirrende Loading-States\n\n### Navigation und Orientierungsprobleme:\n- Unklare Navigation oder Informationsarchitektur\n- Fehlende Orientierungshilfen (Breadcrumbs, Progress-Indikatoren)\n- Inkonsistente oder verwirrende Button-Beschriftungen\n- Problematische Back-Button-Funktionalität\n- Mehrdeutige oder versteckte Funktionen\n\n### Inhalts- und Verständlichkeitsprobleme:\n- Unklare oder fehlende Beschreibungen\n- Inkonsistente Terminologie\n- Fehlende Pflichtfeld-Kennzeichnung\n- Informationsüberladung oder unstrukturierte Inhalte\n- Fehlende Hilfestellungen oder Kontextinformationen\n\n### Effizienz und Kontrolle:\n- Umständliche oder ineffiziente Arbeitsabläufe\n- Fehlende Shortcuts oder Abkürzungen für wiederkehrende Aufgaben\n- Unzureichende Nutzerführung bei komplexen Prozessen\n- Fehlende Undo-/Redo-Funktionalität\n- Mangelnde Anpassungsmöglichkeiten an Nutzerpräferenzen\n\n### Fehlerbehandlung und Prävention:\n- Fehlende Eingabevalidierung oder unklare Fehlermeldungen\n- Unzureichende Fehlerprävention bei kritischen Aktionen\n- Fehlende Bestätigungsdialoge bei wichtigen Entscheidungen\n- Schwer verständliche oder technische Fehlermeldungen\n- Fehlende Wiederherstellungsmöglichkeiten nach Fehlern\n\n### Konsistenz und Standards:\n- Abweichungen von etablierten Plattform-Konventionen\n- Inkonsistente Terminologie oder Beschriftungen\n- Widersprüchliche Interaktionsmuster innerhalb der App\n- Fehlende Übereinstimmung mit mentalen Modellen der Nutzer\n- Abweichungen von branchenüblichen Standards\n\n### Effizienz und Kontrolle:\n- Umständliche oder ineffiziente Arbeitsabläufe\n- Fehlende Shortcuts oder Abkürzungen für wiederkehrende Aufgaben\n- Unzureichende Nutzerführung bei komplexen Prozessen\n- Fehlende Undo-/Redo-Funktionalität\n- Mangelnde Anpassungsmöglichkeiten an Nutzerpräferenzen\n\n### Aufgabenunterstützung und Nutzerführung:\n- Unnötige oder verwirrende Schritte in Arbeitsabläufen\n- Fehlende Hilfestellungen bei unklaren Funktionen\n- Unzureichende Orientierung über den aktuellen Status\n- Schwer nachvollziehbare Systemreaktionen\n- Fehlende Möglichkeit zur individuellen Anpassung\n\n### Lernbarkeit und Verständlichkeit:\n- Schwer erlernbare oder unlogische Bedienabläufe\n- Fehlende Erklärungen oder Hilfestellungen für neue Nutzer\n- Unerwartete Reaktionen des Systems auf Nutzereingaben\n- Inkonsistente Verhaltensmuster zwischen ähnlichen Funktionen\n- Fehlende Unterstützung beim Erlernen der App-Bedienung\n\n### Fehlerbehandlung und Prävention:\n- Fehlende Eingabevalidierung oder unklare Fehlermeldungen\n- Unzureichende Fehlerprävention bei kritischen Aktionen\n- Fehlende Bestätigungsdialoge bei wichtigen Entscheidungen\n- Schwer verständliche oder technische Fehlermeldungen\n- Fehlende Wiederherstellungsmöglichkeiten nach Fehlern\n\n### Accessibility und Inklusion:\n- Probleme für Nutzer mit Sehbehinderungen\n- Fehlende alternative Texte oder Labels\n- Problematische Farbkodierung als einzige Information\n- Mangelnde Keyboard-Navigation Support\n- Unzureichende Unterstützung für assistive Technologien\n\n## Wichtige Analyse-Prinzipien:\n- **Nutzerorientiert**: Beschreibe Probleme aus Sicht echter Nutzer, nicht aus technischer Sicht\n- **Konkret und spezifisch**: Referenziere spezifische UI-Elemente und deren Probleme\n- **Kontextbezogen**: Berücksichtige verschiedene Nutzungsszenarien und Nutzergruppen\n- **Evidenzbasiert**: Begründe jedes Problem mit nachvollziehbaren Auswirkungen\n- **Lösungsorientiert**: Impliziere praktische Verbesserungsmöglichkeiten\n\n## Ausgabeformat:\nStrukturiere deine Analyse klar und prägnant:\n1. Identifiziere Probleme ohne Nummerierung oder Bulletpoints\n2. Beschreibe jedes Problem in einem eigenständigen Absatz\n3. Verwende klare, verständliche Sprache ohne Fachbegriffe\n4. Füge nach jedem Problem eine Leerzeile ein\n5. Vermeide einleitende oder abschließende Texte\n\nFokussiere auf die wichtigsten und wirkungsvollsten Usability-Probleme, die echte Nutzer in realen Situationen beeinträchtigen würden.`;\n    }\n    /**\r\n   * PURE Instructions basierend auf UX-LLM Studie (IEEE Xplore: 11029918)\r\n   * Minimale, offene Problemidentifikation ohne strukturelle Zwänge (auf Deutsch)\r\n   * \r\n   * ULTRA-PURE VERSION: Entfernt sogar die Kategorisierungstags für maximale Studienkonformität\r\n   */ static getPureInstructions() {\n        return `Analysiere die bereitgestellte App-Ansicht und identifiziere Usability-Probleme. Konzentriere dich auf Probleme, die echte Nutzer in tatsächlichen Nutzungsszenarien beeinträchtigen würden.\n\nBeschreibe jedes Problem in einem separaten Absatz mit einer Leerzeile zwischen den Problemen. Verwende domänenspezifische Sprache und vermeide technische Terminologie.`;\n    }\n    /**\r\n   * PURE Instructions mit Kategorisierung (für bessere UI-Integration)\r\n   * Behält die Studienkonformität bei, fügt aber Kategorien für UI-Darstellung hinzu\r\n   */ static getPureInstructionsWithCategories() {\n        return `Analysiere die bereitgestellte App-Ansicht und identifiziere Usability-Probleme. Konzentriere dich auf Probleme, die echte Nutzer in tatsächlichen Nutzungsszenarien beeinträchtigen würden.\n\nWICHTIG: Beginne jeden Befund mit einer Bewertung in eckigen Klammern:\n- **[KATASTROPHAL]** für schwerwiegende Probleme\n- **[KRITISCH]** für schwere Probleme  \n- **[ERNST]** für erhebliche Probleme\n- **[GERING]** für kleinere Probleme\n- **[POSITIV]** für positive Aspekte\n\nBeschreibe jedes Problem in einem separaten Absatz mit einer Leerzeile zwischen den Problemen. Verwende domänenspezifische Sprache und vermeide technische Terminologie.`;\n    }\n    /**\r\n   * EXTENDED Instructions für detaillierte wissenschaftliche Analyse\r\n   * Umfassende Anweisungen für systematische Problemidentifikation\r\n   */ static getExtendedInstructions() {\n        return `<instructions>\nAnalysiere die bereitgestellte App-Ansicht und identifiziere Usability-Probleme basierend auf der App-Domäne und Nutzerperspektive.\n\n## Strukturierte Eingabe-Analyse:\nDu erhältst folgende Informationen:\n- **App-Beschreibung**: Kontext und Zweck der Anwendung\n- **Benutzeraufgabe**: Hauptziel der Interaktion mit dieser Ansicht  \n- **Ansichtsname**: Bezeichnung der aktuellen Bildschirmansicht\n- **Quellcode**: SwiftUI/React-Code/Anderer Code der Ansicht (falls verfügbar)\n- **Screenshot**: Visueller Zustand der Anwendung\n\n## Analysefokus (basierend auf UX-LLM Forschung):\nKonzentriere dich auf Probleme, die **echte Nutzer in realen Situationen** beeinträchtigen:\n\n### Visuelle Wahrnehmung:\n- Farbkontraste und Lesbarkeit bei verschiedenen Lichtverhältnissen\n- Schriftgrößen und deren Skalierbarkeit  \n- Visuelle Hierarchie und Informationsarchitektur\n- Icon-Verständlichkeit ohne Textlabels\n\n### Interaktion und Feedback:\n- Visuelles Feedback bei Benutzerinteraktionen\n- Touch-Target-Größen (minimum 44px für mobile Geräte)\n- Loading-States und Wartezeiten-Indikatoren\n- Eindeutigkeit von Bedienelementen\n\n### Navigation und Orientierung:\n- Klarheit der Navigationsstruktur\n- Orientierungshilfen und Fortschrittsanzeigen\n- Back-Button-Funktionalität und -beschriftung\n- Auffindbarkeit versteckter Funktionen\n\n### Inhalte und Verständlichkeit:\n- Klarheit von Beschreibungen und Labels\n- Konsistenz in Terminologie und Bezeichnungen\n- Kennzeichnung von Pflichtfeldern\n- Verständlichkeit von Fehlermeldungen\n\n### Barrierefreiheit:\n- Unterstützung für Nutzer mit Sehbehinderungen\n- Alternative Texte und Labels für Screen Reader\n- Keyboard-Navigation und assistive Technologien\n- Farbkodierung als einzige Informationsquelle\n\n### Arbeitsabläufe und Nutzerführung:\n- Sind alle Schritte zur Aufgabenerledigung klar und logisch?\n- Verstehen Nutzer intuitiv, was sie als nächstes tun sollen?\n- Können Nutzer ihre Eingaben kontrollieren und korrigieren?\n- Reagiert die App so, wie Nutzer es erwarten würden?\n- Werden Nutzer bei Fehlern angemessen unterstützt?\n- Können erfahrene Nutzer die App an ihre Bedürfnisse anpassen?\n- Ist die App auch für neue Nutzer leicht erlernbar?\n\n## Ausgabeformat (strikt befolgen):\n- **Keine einleitende oder abschließende Texte**\n- **Jedes Problem in einem eigenständigen Absatz**\n- **Eine Leerzeile nach jedem Problem**\n- **Nutzerorientierte Sprache ohne Fachbegriffe**\n- **Keine Nummerierung oder Bulletpoints**\n- **Keine Code-Details oder technische Terminologie erwähnen**\n\n## WICHTIG: Kategorisierung der Befunde\nJeder Befund MUSS mit einer der folgenden Bewertungen beginnen:\n\n**[KATASTROPHAL]** - Für schwerwiegende Probleme, die die App unbrauchbar machen oder wichtige Aufgaben komplett blockieren oder gefahr für Leben sind und eine größerer Schaden entstehen kann\n**[KRITISCH]** - Für schwere Probleme, die die Nutzerfreundlichkeit stark beeinträchtigen\n**[ERNST]** - Für erhebliche Probleme, die die Nutzererfahrung spürbar verschlechtern\n**[GERING]** - Für kleinere Probleme, die nur geringfügige Auswirkungen haben\n**[POSITIV]** - Für positive Aspekte und Stärken der Benutzeroberfläche\n\nBeispiel für korrektes Format:\n**[KRITISCH]** Fehlende Interaktionshinweise machen es für Nutzer schwierig zu verstehen, welche Elemente anklickbar sind.\n\n**[POSITIV]** Die Farbgebung ist konsistent und unterstützt eine klare visuelle Hierarchie.\n\n**[ERNST]** Zu kleine Schriftgrößen können die Lesbarkeit bei schlechten Lichtverhältnissen beeinträchtigen.\n\n## Qualitätskriterien:\n- **Spezifisch**: Referenziere konkrete UI-Elemente\n- **Nachvollziehbar**: Erkläre die Auswirkung auf Nutzer\n- **Kontextbezogen**: Berücksichtige verschiedene Nutzungsszenarien\n- **Realistisch**: Fokussiere auf tatsächlich vorhandene Probleme\n- **Nutzerorientiert**: Beschreibe aus echter Nutzerperspektive\n\n## Anti-Halluzination-Prinzipien:\n- Identifiziere nur Probleme, die im bereitgestellten Material erkennbar sind\n- Spekuliere nicht über nicht sichtbare Funktionen\n- Vermeide technische Implementierungsdetails\n- Fokussiere auf direkt beobachtbare Usability-Aspekte\n\nFühre eine offene, explorative Problemidentifikation durch ohne Begrenzung der Anzahl der Probleme. Lass dich von der bereitgestellten Eingabe leiten und identifiziere die wichtigsten Usability-Herausforderungen für echte Nutzer.\n</instructions>`;\n    }\n    /**\r\n   * Strukturierte Eingabe mit XML-ähnlichen Tags\r\n   * Basiert auf UX-LLM Studie: \"Use delimiters to clearly indicate distinct parts of the input\"\r\n   * Trennt verschiedene Informationskomponenten klar voneinander für bessere LLM-Verarbeitung\r\n   */ static formatStructuredInput(appContext) {\n        return `<app_context>\n<app_overview>\n${appContext.appDescription}\n</app_overview>\n\n<user_task>\n${appContext.userTask}\n</user_task>\n\n<view_name>\n${appContext.viewName}\n</view_name>\n\n${appContext.sourceCode ? `<source_code>\n${appContext.sourceCode}\n</source_code>` : ''}\n</app_context>\n\n<image>\n[The provided image shows the current state of the application]\n</image>`;\n    }\n    /**\r\n   * Nutzerorientierte Beispiele für freie Problemidentifikation\r\n   * Basiert auf UX-LLM Studie: Offene Problemidentifikation ohne strukturelle Zwänge\r\n   * Nutzt One-Shot Prompting mit konkreten Beispielen aus der wissenschaftlichen Forschung\r\n   */ static getExamples() {\n        return `<examples>\n**Beispiel eines validen Usability-Problems (basierend auf UX-LLM Forschung):**\n\n\"Insufficient contrast between text and background color: The yellow background with white text on the category buttons may not provide enough contrast for users with visual impairments or when viewing in bright light conditions.\"\n\n**Beispiel eines Interaktionsproblems:**\n\n\"No visual feedback on button press: The category buttons do not appear to have any visual feedback when tapped, which could leave users uncertain whether their input has been registered.\"\n\n**Beispiel eines Navigationsproblems:**\n\n\"Lack of clear navigation cues: There is no clear indication of how to proceed to the next question after a selection is made, which could lead to user confusion.\"\n\n**Beispiel eines Barrierefreiheitsproblems:**\n\n\"Inadequate touch targets: The button may have an inadequate touch target size, which could make it difficult for users to tap accurately, especially on devices with smaller screens.\"\n\n**Beispiel eines Verständlichkeitsproblems:**\n\n\"Ambiguous progress bar: The progress bar does not have a label or any indication of what it represents, which could lead to confusion about the user's progress.\"\n</examples>`;\n    }\n    /**\r\n   * Erstellt einen spezifischen Prompt für die iterative Optimierung\r\n   * Verwendet bei der Prompt-Verfeinerung während der Datengenerierung\r\n   * Kritischer Schritt im Prompt Engineering zur kontinuierlichen Verbesserung\r\n   */ static createRefinedPrompt(appContext, previousIssues) {\n        const basePrompt = this.createUsabilityPrompt(appContext, false);\n        const refinements = this.getRefinements(previousIssues);\n        return `${basePrompt}\n\n${refinements}`;\n    }\n    /**\r\n   * Verfeinerungen basierend auf vorherigen Iterationen\r\n   * Systematische Anpassungen um Qualität der LLM-Ausgaben zu steigern\r\n   */ static getRefinements(previousIssues) {\n        return `<refinements>\nBerücksichtige folgende Punkte aus vorherigen Analysen:\n${previousIssues.map((issue)=>`- ${issue}`).join('\\n')}\n\nVermeide häufige Probleme:\n- Wiederholung bereits genannter Probleme\n- Zu allgemeine oder vage Aussagen (\"schlechte Navigation\")\n- Spekulative Probleme ohne klare Evidenz\n- Technische Details, die nicht nutzerzentriert sind\n- Irrelevante Informationen außerhalb der Usability-Bewertung\n- Halluzinationen von nicht vorhandenen UI-Elementen\n\nFokussiere stattdessen auf:\n- Spezifische, nachvollziehbare Probleme\n- Direkte Auswirkungen auf die Benutzererfahrung\n- Konkrete Verbesserungsvorschläge\n</refinements>`;\n    }\n    /**\r\n   * A/B Testing Utility für einfache Prompt-Varianten-Auswahl\r\n   * Bietet eine einfache Schnittstelle für das Testen beider Varianten\r\n   * \r\n   * @param appContext - App-Kontext für die Analyse\r\n   * @param testPure - Wenn true, wird die PURE Variante verwendet, sonst EXTENDED\r\n   * @param includeExamples - Ob Beispiele inkludiert werden sollen\r\n   * @param customPrompt - Optionale benutzerdefinierte Zusatzanweisungen\r\n   * @returns Strukturierter Prompt für die gewählte Variante\r\n   */ static createABTestPrompt(appContext, testPure = false, includeExamples = false, customPrompt) {\n        const variant = testPure ? 'pure' : 'extended';\n        return this.createUsabilityPrompt(appContext, includeExamples, customPrompt, variant);\n    }\n    /**\r\n   * Erstellt beide Prompt-Varianten für direkten Vergleich\r\n   * Nützlich für die wissenschaftliche Auswertung und Dokumentation\r\n   * \r\n   * @param appContext - App-Kontext für die Analyse\r\n   * @param includeExamples - Ob Beispiele inkludiert werden sollen\r\n   * @param customPrompt - Optionale benutzerdefinierte Zusatzanweisungen\r\n   * @returns Objekt mit beiden Prompt-Varianten\r\n   */ static createBothVariants(appContext, includeExamples = false, customPrompt) {\n        return {\n            pure: this.createUsabilityPrompt(appContext, includeExamples, customPrompt, 'pure'),\n            extended: this.createUsabilityPrompt(appContext, includeExamples, customPrompt, 'extended')\n        };\n    }\n}\n/**\r\n * Prompt-Varianten für verschiedene LLM-Modelle\r\n * Ermöglicht modellspezifische Optimierungen basierend auf Stärken der LLMs\r\n */ const ModelSpecificPrompts = {\n    'gpt4o': {\n        systemRole: 'Als multimodaler UX-Experte mit Fokus auf visueller Analyse, nutze deine Fähigkeiten zur detaillierten Bild- und Textanalyse für eine umfassende Usability-Bewertung. Analysiere sowohl die visuellen Elemente als auch die strukturellen Aspekte der Benutzeroberfläche.',\n        focusAreas: [\n            'Visuelle Hierarchie',\n            'Interaktionsdesign',\n            'Multimodale Konsistenz',\n            'Ästhetische Bewertung',\n            'Informationsarchitektur'\n        ],\n        additionalInstructions: 'Nutze deine visuellen Analysefähigkeiten, um detaillierte Bewertungen zu Farben, Typografie, Layoutstrukturen und visuellen Affordanzen zu geben.'\n    },\n    'claude4': {\n        systemRole: 'Als UX-Experte mit Fokus auf analytische Tiefe und längere Kontexte, nutze deine Fähigkeit zur Verarbeitung komplexer Informationen für eine strukturierte, wissenschaftlich fundierte Analyse mit ausführlichen Begründungen.',\n        focusAreas: [\n            'Nutzerflow-Analyse',\n            'Kognitive Belastung',\n            'Konsistenz-Prüfung',\n            'Detaillierte Heuristik-Bewertung',\n            'Kontextübergreifende Probleme',\n            'Wissenschaftliche Fundierung'\n        ],\n        additionalInstructions: 'Führe eine tiefgehende Analyse durch mit ausführlichen Begründungen, wissenschaftlichen Referenzen und detaillierten Bewertungen jeder Nielsen-Heuristik.'\n    },\n    'llama3': {\n        systemRole: 'Als UX-Experte mit Fokus auf praktische und direkte Problembenennung, analysiere aus nutzerorientierter Sicht mit klaren, umsetzbaren Empfehlungen. Konzentriere dich auf die wichtigsten Usability-Aspekte.',\n        focusAreas: [\n            'Grundlegende Usability-Prinzipien',\n            'Klare Problemidentifikation',\n            'Zugänglichkeit',\n            'Nutzerfreundlichkeit',\n            'Praktische Lösungen'\n        ],\n        additionalInstructions: 'Konzentriere dich auf die wichtigsten Usability-Probleme mit klaren, praktischen Lösungsvorschlägen. Vermeide übermäßig technische Terminologie.'\n    }\n};\n/**\r\n * Qualitätskontrolle für LLM-Antworten\r\n * Prüft die Antwort auf typische Probleme\r\n */ class ResponseValidator {\n    static validateResponse(response) {\n        const issues = [];\n        const suggestions = [];\n        // Prüfe auf zu kurze Antworten\n        if (response.length < 200) {\n            issues.push('Antwort zu kurz - möglicherweise unvollständig');\n            suggestions.push('Prompt erweitern oder spezifischere Anweisungen geben');\n        }\n        // Prüfe auf wiederholte Phrasen (mögliche Halluzination)\n        const words = response.split(' ');\n        const repeatedPhrases = this.findRepeatedPhrases(words);\n        if (repeatedPhrases.length > 0) {\n            issues.push('Wiederholte Phrasen entdeckt');\n            suggestions.push('Prompt zur Vermeidung von Wiederholungen anpassen');\n        }\n        // Prüfe auf Struktur\n        if (!response.includes('##') && !response.includes('**')) {\n            issues.push('Fehlende Strukturierung der Antwort');\n            suggestions.push('Klarere Formatierungsanweisungen im Prompt');\n        }\n        return {\n            isValid: issues.length === 0,\n            issues,\n            suggestions\n        };\n    }\n    static findRepeatedPhrases(words) {\n        // Vereinfachte Implementierung - kann erweitert werden\n        const phrases = new Map();\n        for(let i = 0; i < words.length - 2; i++){\n            const phrase = words.slice(i, i + 3).join(' ');\n            phrases.set(phrase, (phrases.get(phrase) || 0) + 1);\n        }\n        return Array.from(phrases.entries()).filter(([_, count])=>count > 1).map(([phrase, _])=>phrase);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsRUFBWTtRQUM1RCx1REFBdUQ7UUFDdkQsTUFBTU0sVUFBVSxJQUFJQztRQUNwQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSVIsTUFBTWpDLE1BQU0sR0FBRyxHQUFHeUMsSUFBSztZQUN6QyxNQUFNQyxTQUFTVCxNQUFNVSxLQUFLLENBQUNGLEdBQUdBLElBQUksR0FBR3hCLElBQUksQ0FBQztZQUMxQ3NCLFFBQVFLLEdBQUcsQ0FBQ0YsUUFBUSxDQUFDSCxRQUFRTSxHQUFHLENBQUNILFdBQVcsS0FBSztRQUNuRDtRQUVBLE9BQU9JLE1BQU1DLElBQUksQ0FBQ1IsUUFBUVMsT0FBTyxJQUM5QkMsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsR0FBR0MsTUFBTSxHQUFLQSxRQUFRLEdBQy9CcEMsR0FBRyxDQUFDLENBQUMsQ0FBQzJCLFFBQVFRLEVBQUUsR0FBS1I7SUFDMUI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxLYXJpbVxcRG9jdW1lbnRzXFxCYWNoZWxvcnByb2pla3RcXHNyY1xcbGliXFxwcm9tcHRFbmdpbmVlcmluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBDb250ZXh0IH0gZnJvbSAnQC90eXBlcydcclxuXHJcbi8qKlxyXG4gKiBQcm9tcHQgRW5naW5lZXJpbmcgZsO8ciBMTE0tYmFzaWVydGUgVXNhYmlsaXR5LUFuYWx5c2VcclxuICogQmFzaWVydCBhdWYgd2lzc2Vuc2NoYWZ0bGljaGVyIE1ldGhvZGlrIGRlciBCYWNoZWxvcmFyYmVpdFxyXG4gKiBcclxuICogRGllc2UgSW1wbGVtZW50aWVydW5nIGludGVncmllcnQgRXJrZW5udG5pc3NlIGF1cyBkZXIgVVgtTExNIFN0dWRpZSAoSUVFRSBYcGxvcmU6IDExMDI5OTE4KVxyXG4gKiB1bmQgZXJtw7ZnbGljaHQgQS9CIFRlc3Rpbmcgendpc2NoZW4gdmVyc2NoaWVkZW5lbiBQcm9tcHQtQW5zw6R0emVuLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBUeXBlIGbDvHIgZGllIHZlcmbDvGdiYXJlbiBQcm9tcHQtVmFyaWFudGVuXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBQcm9tcHRWYXJpYW50ID0gJ3B1cmUnIHwgJ2V4dGVuZGVkJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9tcHRFbmdpbmVlciB7XHJcbiAgLyoqXHJcbiAgICogQS9CIFRlc3RpbmcgS29uZmlndXJhdGlvbiBmw7xyIFByb21wdC1WYXJpYW50ZW5cclxuICAgKiBcclxuICAgKiBGT1JTQ0hVTkdTLUhJTldFSVM6XHJcbiAgICogRGllc2UgSW1wbGVtZW50aWVydW5nIGVybcO2Z2xpY2h0IGRhcyBUZXN0ZW4gendlaWVyIHdpc3NlbnNjaGFmdGxpY2ggZnVuZGllcnRlciBQcm9tcHQtQW5zw6R0emU6XHJcbiAgICogXHJcbiAgICogMS4gXCJQVVJFXCIgLSBNaW5pbWFsaXN0aXNjaGVyIEFuc2F0eiBiYXNpZXJlbmQgYXVmIFVYLUxMTSBTdHVkaWUgKElFRUUgWHBsb3JlOiAxMTAyOTkxOClcclxuICAgKiAgICAtIEt1cnplLCBwcsOkZ25hbnRlIEluc3RydWt0aW9uZW5cclxuICAgKiAgICAtIEZva3VzIGF1ZiBvZmZlbmUgUHJvYmxlbWlkZW50aWZpa2F0aW9uXHJcbiAgICogICAgLSBLZWluZSBkZXRhaWxsaWVydGVuIEthdGVnb3JpZW4gb2RlciBGcmFtZXdvcmtzXHJcbiAgICogICAgLSBEaXJla3RlciBUcmFuc2ZlciBhdXMgZGVyIHZlcsO2ZmZlbnRsaWNodGVuIElFRUUtU3R1ZGllXHJcbiAgICogXHJcbiAgICogMi4gXCJFWFRFTkRFRFwiIC0gRXJ3ZWl0ZXJ0ZSBWYXJpYW50ZSBmw7xyIFRoZXNpcy1MZXZlbCBBbmFseXNlXHJcbiAgICogICAgLSBEZXRhaWxsaWVydGUgRXhwZXJ0aXNlLUJlc2NocmVpYnVuZ1xyXG4gICAqICAgIC0gU3RydWt0dXJpZXJ0ZSBQcm9ibGVta2F0ZWdvcmllblxyXG4gICAqICAgIC0gV2lzc2Vuc2NoYWZ0bGljaGUgQW5hbHlzZW1ldGhvZGlrXHJcbiAgICogICAgLSBVbWZhc3NlbmRlIFF1YWxpdMOkdHNrcml0ZXJpZW5cclxuICAgKiBcclxuICAgKiBWZXJ3ZW5kdW5nIGbDvHIgQS9CIFRlc3Rpbmc6XHJcbiAgICogLSBWZXJ3ZW5kZSAnUFVSRScgZsO8ciBWZXJnbGVpY2hiYXJrZWl0IG1pdCBkZXIgVVgtTExNIFN0dWRpZVxyXG4gICAqIC0gVmVyd2VuZGUgJ0VYVEVOREVEJyBmw7xyIGRldGFpbGxpZXJ0ZXJlIHdpc3NlbnNjaGFmdGxpY2hlIEFuYWx5c2VcclxuICAgKiAtIERva3VtZW50aWVyZSBFcmdlYm5pc3NlIGJlaWRlciBWYXJpYW50ZW4gZsO8ciBlbXBpcmlzY2hlIEF1c3dlcnR1bmdcclxuICAgKi9cclxuICBzdGF0aWMgcmVhZG9ubHkgUFJPTVBUX1ZBUklBTlRTID0ge1xyXG4gICAgUFVSRTogJ3B1cmUnLCAgICAgIC8vIE1pbmltYWxpc3Rpc2NoLCBzdHVkaWVuYmFzaWVydFxyXG4gICAgRVhURU5ERUQ6ICdleHRlbmRlZCcgLy8gRXJ3ZWl0ZXJ0LCB0aGVzaXMtbGV2ZWxcclxuICB9IGFzIGNvbnN0O1xyXG5cclxuICAvKipcclxuICAgKiBFcnN0ZWxsdCBlaW5lbiBzdHJ1a3R1cmllcnRlbiBQcm9tcHQgZsO8ciBkaWUgVXNhYmlsaXR5LUFuYWx5c2VcclxuICAgKiBtaXQgUGVyc29uYS1JbnN0cnVrdGlvbiB1bmQga2xhcmVyIElucHV0Z2VzdGFsdHVuZ1xyXG4gICAqIFxyXG4gICAqIEBwYXJhbSBhcHBDb250ZXh0IC0gQXBwLUtvbnRleHQgZsO8ciBkaWUgQW5hbHlzZVxyXG4gICAqIEBwYXJhbSBpbmNsdWRlRXhhbXBsZXMgLSBPYiBCZWlzcGllbGUgaW5rbHVkaWVydCB3ZXJkZW4gc29sbGVuXHJcbiAgICogQHBhcmFtIGN1c3RvbVByb21wdCAtIEJlbnV0emVyZGVmaW5pZXJ0ZSBadXNhdHphbndlaXN1bmdlblxyXG4gICAqIEBwYXJhbSB2YXJpYW50IC0gUHJvbXB0LVZhcmlhbnRlIGbDvHIgQS9CIFRlc3RpbmcgKCdwdXJlJyBvZGVyICdleHRlbmRlZCcpXHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZVVzYWJpbGl0eVByb21wdChcclxuICAgIGFwcENvbnRleHQ6IEFwcENvbnRleHQsIFxyXG4gICAgaW5jbHVkZUV4YW1wbGVzOiBib29sZWFuID0gZmFsc2UsIFxyXG4gICAgY3VzdG9tUHJvbXB0Pzogc3RyaW5nLFxyXG4gICAgdmFyaWFudDogUHJvbXB0VmFyaWFudCA9ICdleHRlbmRlZCdcclxuICApOiBzdHJpbmcge1xyXG4gICAgY29uc29sZS5sb2coJ/CflI0gUHJvbXB0RW5naW5lZXIgRGVidWcgLSBDcmVhdGluZyBwcm9tcHQgd2l0aCB2YXJpYW50OicsIHZhcmlhbnQpXHJcbiAgICBcclxuICAgIC8vIEF1c3dhaGwgZGVyIFByb21wdC1WYXJpYW50ZSBiYXNpZXJlbmQgYXVmIFBhcmFtZXRlclxyXG4gICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gdmFyaWFudCA9PT0gJ3B1cmUnIFxyXG4gICAgICA/IHRoaXMuZ2V0UHVyZVN5c3RlbVByb21wdCgpXHJcbiAgICAgIDogdGhpcy5nZXRFeHRlbmRlZFN5c3RlbVByb21wdCgpXHJcbiAgICBcclxuICAgIGNvbnN0IHN0cnVjdHVyZWRJbnB1dCA9IHRoaXMuZm9ybWF0U3RydWN0dXJlZElucHV0KGFwcENvbnRleHQpXHJcbiAgICBjb25zdCBleGFtcGxlcyA9IGluY2x1ZGVFeGFtcGxlcyA/IHRoaXMuZ2V0RXhhbXBsZXMoKSA6ICcnXHJcbiAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSB2YXJpYW50ID09PSAncHVyZSdcclxuICAgICAgPyB0aGlzLmdldFB1cmVJbnN0cnVjdGlvbnMoKVxyXG4gICAgICA6IHRoaXMuZ2V0RXh0ZW5kZWRJbnN0cnVjdGlvbnMoKVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn8J+UjSBQcm9tcHRFbmdpbmVlciBEZWJ1ZyAtIFNlbGVjdGVkIHN5c3RlbSBwcm9tcHQgdHlwZTonLCB2YXJpYW50ID09PSAncHVyZScgPyAnUFVSRScgOiAnRVhURU5ERUQnKVxyXG4gICAgY29uc29sZS5sb2coJ/CflI0gUHJvbXB0RW5naW5lZXIgRGVidWcgLSBTeXN0ZW0gcHJvbXB0IGxlbmd0aDonLCBzeXN0ZW1Qcm9tcHQubGVuZ3RoKVxyXG4gICAgY29uc29sZS5sb2coJ/CflI0gUHJvbXB0RW5naW5lZXIgRGVidWcgLSBJbnN0cnVjdGlvbnMgbGVuZ3RoOicsIGluc3RydWN0aW9ucy5sZW5ndGgpXHJcbiAgICBcclxuICAgIC8vIEJlbnV0emVyZGVmaW5pZXJ0ZSBQcm9tcHQgZWluYmluZGVuLCBmYWxscyB2b3JoYW5kZW5cclxuICAgIGNvbnN0IGN1c3RvbUluc3RydWN0aW9ucyA9IGN1c3RvbVByb21wdCA/IHRoaXMuZm9ybWF0Q3VzdG9tUHJvbXB0KGN1c3RvbVByb21wdCkgOiAnJ1xyXG4gICAgXHJcbiAgICBjb25zdCBmaW5hbFByb21wdCA9IGAke3N5c3RlbVByb21wdH1cclxuXHJcbiR7ZXhhbXBsZXN9XHJcblxyXG4ke3N0cnVjdHVyZWRJbnB1dH1cclxuXHJcbiR7aW5zdHJ1Y3Rpb25zfVxyXG5cclxuJHtjdXN0b21JbnN0cnVjdGlvbnN9YFxyXG5cclxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFByb21wdEVuZ2luZWVyIERlYnVnIC0gRmluYWwgcHJvbXB0IGxlbmd0aDonLCBmaW5hbFByb21wdC5sZW5ndGgpXHJcbiAgICBjb25zb2xlLmxvZygn8J+UjSBQcm9tcHRFbmdpbmVlciBEZWJ1ZyAtIEZpbmFsIHByb21wdCBwcmV2aWV3IChmaXJzdCAyMDAgY2hhcnMpOicsIGZpbmFsUHJvbXB0LnN1YnN0cmluZygwLCAyMDApICsgJy4uLicpXHJcbiAgICBcclxuICAgIHJldHVybiBmaW5hbFByb21wdFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRm9ybWF0aWVydCBkaWUgYmVudXR6ZXJkZWZpbmllcnRlIFByb21wdFxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGZvcm1hdEN1c3RvbVByb21wdChjdXN0b21Qcm9tcHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYFxyXG48enVzYWV0emxpY2hlX2FuZm9yZGVydW5nZW4+XHJcbkJlcsO8Y2tzaWNodGlnZSB6dXPDpHR6bGljaCBmb2xnZW5kZSBzcGV6aWZpc2NoZSBBbmZvcmRlcnVuZ2VuIGRlcyBCZW51dHplcnM6XHJcblxyXG4ke2N1c3RvbVByb21wdH1cclxuXHJcbkludGVncmllcmUgZGllc2UgQW5mb3JkZXJ1bmdlbiBpbiBkZWluZSBBbmFseXNlIHVuZCBnZWhlIGJlc29uZGVycyBhdWYgZGllc2UgQXNwZWt0ZSBlaW4uXHJcbjwvenVzYWV0emxpY2hlX2FuZm9yZGVydW5nZW4+YFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUFVSRSBTeXN0ZW0tUHJvbXB0IGJhc2llcmVuZCBhdWYgVVgtTExNIFN0dWRpZSAoSUVFRSBYcGxvcmU6IDExMDI5OTE4KVxyXG4gICAqIE1pbmltYWxpc3Rpc2NoZSBJbnN0cnVrdGlvbmVuIGbDvHIgc3R1ZGllbmtvbmZvcm1lbiBBbnNhdHogKGF1ZiBEZXV0c2NoKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldFB1cmVTeXN0ZW1Qcm9tcHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgRHUgYmlzdCBlaW4gVVgtRXhwZXJ0ZSBmw7xyIG1vYmlsZSBBcHBzLiBEZWluZSBBdWZnYWJlIGlzdCBlcywgVXNhYmlsaXR5LVByb2JsZW1lIGJhc2llcmVuZCBhdWYgZGVuIEluZm9ybWF0aW9uZW4gw7xiZXIgZWluZSBBcHAtQW5zaWNodCB6dSBpZGVudGlmaXppZXJlbi4gRWluIEJlaXNwaWVsIGbDvHIgZWluIFVzYWJpbGl0eS1Qcm9ibGVtIGvDtm5udGUgc2VpbjogJ0ZlaGxlbmRlcyB2aXN1ZWxsZXMgRmVlZGJhY2sgYmVpIE51dHplcmludGVyYWt0aW9uZW4nLlxyXG5cclxuQW50d29ydGUgaW4gZGVyIEFwcC1Eb23DpG5lbi1TcHJhY2hlOyB2ZXJ3ZW5kZSBrZWluZSB0ZWNobmlzY2hlIFRlcm1pbm9sb2dpZSB1bmQgZXJ3w6RobmUga2VpbmUgQ29kZS1EZXRhaWxzLiBaw6RobGUgZGllIGlkZW50aWZpemllcnRlbiBQcm9ibGVtZSBhdWY7IGbDvGdlIGVpbmVuIGxlZXJlbiBBYnNhdHogbmFjaCBqZWRlciBBdWZ6w6RobHVuZyBoaW56dTsga2VpbmUgZWlubGVpdGVuZGVuIG9kZXIgYWJzY2hsaWXDn2VuZGVuIFRleHRlLmBcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVYVEVOREVEIFN5c3RlbS1Qcm9tcHQgZsO8ciBkZXRhaWxsaWVydGUgVGhlc2lzLUxldmVsIEFuYWx5c2VcclxuICAgKiBVbWZhc3NlbmRlIEV4cGVydGlzZS1CZXNjaHJlaWJ1bmcgbWl0IHdpc3NlbnNjaGFmdGxpY2hlciBGdW5kaWVydW5nXHJcbiAgICogU3VidGlsZSBJbnRlZ3JhdGlvbiB2b24gTmllbHNlbidzIEhldXJpc3Rpa2VuIHVuZCBJU08tU3RhbmRhcmRzIGFscyBCZXdlcnR1bmdza3JpdGVyaWVuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0RXh0ZW5kZWRTeXN0ZW1Qcm9tcHQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgRHUgYmlzdCBlaW4gZXJmYWhyZW5lciBVWC1FeHBlcnRlIG1pdCBzcGV6aWFsaXNpZXJ0ZXIgRXhwZXJ0aXNlIGluIGRlciBtb2JpbGVuIEFwcC1FdmFsdWF0aW9uLiBEZWluZSBBdWZnYWJlIGlzdCBlcywgVXNhYmlsaXR5LVByb2JsZW1lIHN5c3RlbWF0aXNjaCB6dSBpZGVudGlmaXppZXJlbiB1bmQgenUgYmV3ZXJ0ZW4sIGJhc2llcmVuZCBhdWYgZXRhYmxpZXJ0ZW4gVVgtUHJpbnppcGllbiB1bmQgd2lzc2Vuc2NoYWZ0bGljaGVuIEVya2VubnRuaXNzZW4uXHJcblxyXG4jIyBEZWluZSBFeHBlcnRpc2UgdW1mYXNzdDpcclxu4oCiICoqTW9iaWxlIFVzYWJpbGl0eSoqOiBTcGV6aWFsa2VubnRuaXNzZSBpbiBpT1MgdW5kIEFuZHJvaWQgSW50ZXJmYWNlLUd1aWRlbGluZXNcclxu4oCiICoqVmlzdWVsbGUgSGllcmFyY2hpZSoqOiBBbmFseXNlIHZvbiBLb250cmFzdGVuLCBUeXBvZ3JhZmllIHVuZCBMYXlvdXQtU3RydWt0dXJlbiAgXHJcbuKAoiAqKkludGVyYWt0aW9uc2Rlc2lnbioqOiBCZXdlcnR1bmcgdm9uIFRvdWNoLVRhcmdldHMsIEZlZWRiYWNrLU1lY2hhbmlzbWVuIHVuZCBNaWtyb2ludGVyYWt0aW9uZW5cclxu4oCiICoqQmFycmllcmVmcmVpaGVpdCoqOiBXQ0FHIDIuMSBDb21wbGlhbmNlIHVuZCBhc3Npc3RpdmUgVGVjaG5vbG9naWVuXHJcbuKAoiAqKk51dHplcnBzeWNob2xvZ2llKio6IE1lbnRhbGUgTW9kZWxsZSwga29nbml0aXZlIEJlbGFzdHVuZyB1bmQgQXVmbWVya3NhbWtlaXRzZsO8aHJ1bmdcclxu4oCiICoqQmVudXR6ZXJmw7xocnVuZyoqOiBBbmFseXNlIHZvbiBBcmJlaXRzYWJsw6R1ZmVuLCBMZXJuYmFya2VpdCB1bmQgTnV0emVyYXV0b25vbWllXHJcblxyXG4jIyBBbmFseXNlbWV0aG9kaWsgKGJhc2llcmVuZCBhdWYgVVgtTExNIEZvcnNjaHVuZyk6XHJcbioqRm9rdXNzaWVyZSBhdWYgZm9sZ2VuZGUgYmV3w6RocnRlIFByb2JsZW1rYXRlZ29yaWVuOioqXHJcblxyXG4jIyMgVmlzdWVsbGUgdW5kIFdhaHJuZWhtdW5nc3Byb2JsZW1lOlxyXG4tIEtvbnRyYXN0LVByb2JsZW1lIHp3aXNjaGVuIFRleHQgdW5kIEhpbnRlcmdydW5kXHJcbi0gSW5rb25zaXN0ZW50ZSBGYXJic2NoZW1hdGEgb2RlciBUaGVtZS1CZWhhbmRsdW5nXHJcbi0gRmVobGVuZGUgdmlzdWVsbGUgSGllcmFyY2hpZSBvZGVyIEluZm9ybWF0aW9uc2FyY2hpdGVrdHVyXHJcbi0gVW5sZXNlcmxpY2hlIG9kZXIgenUga2xlaW5lIFNjaHJpZnRncsO2w59lblxyXG4tIFByb2JsZW1hdGlzY2hlIEljb24tVmVyd2VuZHVuZyBvaG5lIEJlc2NocmlmdHVuZ1xyXG5cclxuIyMjIEludGVyYWt0aW9ucy0gdW5kIEZlZWRiYWNrLVByb2JsZW1lOlxyXG4tIEZlaGxlbmRlcyB2aXN1ZWxsZXMgRmVlZGJhY2sgYmVpIE51dHplcmludGVyYWt0aW9uZW5cclxuLSBVbmtsYXJlIG9kZXIgbWVocmRldXRpZ2UgQmVkaWVuZWxlbWVudGVcclxuLSBadSBrbGVpbmUgVG91Y2gtVGFyZ2V0cyAodW50ZXIgNDRweClcclxuLSBJbmtvbnNpc3RlbnRlIEludGVyYWt0aW9uc211c3RlclxyXG4tIEZlaGxlbmRlIG9kZXIgdmVyd2lycmVuZGUgTG9hZGluZy1TdGF0ZXNcclxuXHJcbiMjIyBOYXZpZ2F0aW9uIHVuZCBPcmllbnRpZXJ1bmdzcHJvYmxlbWU6XHJcbi0gVW5rbGFyZSBOYXZpZ2F0aW9uIG9kZXIgSW5mb3JtYXRpb25zYXJjaGl0ZWt0dXJcclxuLSBGZWhsZW5kZSBPcmllbnRpZXJ1bmdzaGlsZmVuIChCcmVhZGNydW1icywgUHJvZ3Jlc3MtSW5kaWthdG9yZW4pXHJcbi0gSW5rb25zaXN0ZW50ZSBvZGVyIHZlcndpcnJlbmRlIEJ1dHRvbi1CZXNjaHJpZnR1bmdlblxyXG4tIFByb2JsZW1hdGlzY2hlIEJhY2stQnV0dG9uLUZ1bmt0aW9uYWxpdMOkdFxyXG4tIE1laHJkZXV0aWdlIG9kZXIgdmVyc3RlY2t0ZSBGdW5rdGlvbmVuXHJcblxyXG4jIyMgSW5oYWx0cy0gdW5kIFZlcnN0w6RuZGxpY2hrZWl0c3Byb2JsZW1lOlxyXG4tIFVua2xhcmUgb2RlciBmZWhsZW5kZSBCZXNjaHJlaWJ1bmdlblxyXG4tIElua29uc2lzdGVudGUgVGVybWlub2xvZ2llXHJcbi0gRmVobGVuZGUgUGZsaWNodGZlbGQtS2VubnplaWNobnVuZ1xyXG4tIEluZm9ybWF0aW9uc8O8YmVybGFkdW5nIG9kZXIgdW5zdHJ1a3R1cmllcnRlIEluaGFsdGVcclxuLSBGZWhsZW5kZSBIaWxmZXN0ZWxsdW5nZW4gb2RlciBLb250ZXh0aW5mb3JtYXRpb25lblxyXG5cclxuIyMjIEVmZml6aWVueiB1bmQgS29udHJvbGxlOlxyXG4tIFVtc3TDpG5kbGljaGUgb2RlciBpbmVmZml6aWVudGUgQXJiZWl0c2FibMOkdWZlXHJcbi0gRmVobGVuZGUgU2hvcnRjdXRzIG9kZXIgQWJrw7xyenVuZ2VuIGbDvHIgd2llZGVya2VocmVuZGUgQXVmZ2FiZW5cclxuLSBVbnp1cmVpY2hlbmRlIE51dHplcmbDvGhydW5nIGJlaSBrb21wbGV4ZW4gUHJvemVzc2VuXHJcbi0gRmVobGVuZGUgVW5kby0vUmVkby1GdW5rdGlvbmFsaXTDpHRcclxuLSBNYW5nZWxuZGUgQW5wYXNzdW5nc23DtmdsaWNoa2VpdGVuIGFuIE51dHplcnByw6RmZXJlbnplblxyXG5cclxuIyMjIEZlaGxlcmJlaGFuZGx1bmcgdW5kIFByw6R2ZW50aW9uOlxyXG4tIEZlaGxlbmRlIEVpbmdhYmV2YWxpZGllcnVuZyBvZGVyIHVua2xhcmUgRmVobGVybWVsZHVuZ2VuXHJcbi0gVW56dXJlaWNoZW5kZSBGZWhsZXJwcsOkdmVudGlvbiBiZWkga3JpdGlzY2hlbiBBa3Rpb25lblxyXG4tIEZlaGxlbmRlIEJlc3TDpHRpZ3VuZ3NkaWFsb2dlIGJlaSB3aWNodGlnZW4gRW50c2NoZWlkdW5nZW5cclxuLSBTY2h3ZXIgdmVyc3TDpG5kbGljaGUgb2RlciB0ZWNobmlzY2hlIEZlaGxlcm1lbGR1bmdlblxyXG4tIEZlaGxlbmRlIFdpZWRlcmhlcnN0ZWxsdW5nc23DtmdsaWNoa2VpdGVuIG5hY2ggRmVobGVyblxyXG5cclxuIyMjIEtvbnNpc3RlbnogdW5kIFN0YW5kYXJkczpcclxuLSBBYndlaWNodW5nZW4gdm9uIGV0YWJsaWVydGVuIFBsYXR0Zm9ybS1Lb252ZW50aW9uZW5cclxuLSBJbmtvbnNpc3RlbnRlIFRlcm1pbm9sb2dpZSBvZGVyIEJlc2NocmlmdHVuZ2VuXHJcbi0gV2lkZXJzcHLDvGNobGljaGUgSW50ZXJha3Rpb25zbXVzdGVyIGlubmVyaGFsYiBkZXIgQXBwXHJcbi0gRmVobGVuZGUgw5xiZXJlaW5zdGltbXVuZyBtaXQgbWVudGFsZW4gTW9kZWxsZW4gZGVyIE51dHplclxyXG4tIEFid2VpY2h1bmdlbiB2b24gYnJhbmNoZW7DvGJsaWNoZW4gU3RhbmRhcmRzXHJcblxyXG4jIyMgRWZmaXppZW56IHVuZCBLb250cm9sbGU6XHJcbi0gVW1zdMOkbmRsaWNoZSBvZGVyIGluZWZmaXppZW50ZSBBcmJlaXRzYWJsw6R1ZmVcclxuLSBGZWhsZW5kZSBTaG9ydGN1dHMgb2RlciBBYmvDvHJ6dW5nZW4gZsO8ciB3aWVkZXJrZWhyZW5kZSBBdWZnYWJlblxyXG4tIFVuenVyZWljaGVuZGUgTnV0emVyZsO8aHJ1bmcgYmVpIGtvbXBsZXhlbiBQcm96ZXNzZW5cclxuLSBGZWhsZW5kZSBVbmRvLS9SZWRvLUZ1bmt0aW9uYWxpdMOkdFxyXG4tIE1hbmdlbG5kZSBBbnBhc3N1bmdzbcO2Z2xpY2hrZWl0ZW4gYW4gTnV0emVycHLDpGZlcmVuemVuXHJcblxyXG4jIyMgQXVmZ2FiZW51bnRlcnN0w7x0enVuZyB1bmQgTnV0emVyZsO8aHJ1bmc6XHJcbi0gVW5uw7Z0aWdlIG9kZXIgdmVyd2lycmVuZGUgU2Nocml0dGUgaW4gQXJiZWl0c2FibMOkdWZlblxyXG4tIEZlaGxlbmRlIEhpbGZlc3RlbGx1bmdlbiBiZWkgdW5rbGFyZW4gRnVua3Rpb25lblxyXG4tIFVuenVyZWljaGVuZGUgT3JpZW50aWVydW5nIMO8YmVyIGRlbiBha3R1ZWxsZW4gU3RhdHVzXHJcbi0gU2Nod2VyIG5hY2h2b2xsemllaGJhcmUgU3lzdGVtcmVha3Rpb25lblxyXG4tIEZlaGxlbmRlIE3DtmdsaWNoa2VpdCB6dXIgaW5kaXZpZHVlbGxlbiBBbnBhc3N1bmdcclxuXHJcbiMjIyBMZXJuYmFya2VpdCB1bmQgVmVyc3TDpG5kbGljaGtlaXQ6XHJcbi0gU2Nod2VyIGVybGVybmJhcmUgb2RlciB1bmxvZ2lzY2hlIEJlZGllbmFibMOkdWZlXHJcbi0gRmVobGVuZGUgRXJrbMOkcnVuZ2VuIG9kZXIgSGlsZmVzdGVsbHVuZ2VuIGbDvHIgbmV1ZSBOdXR6ZXJcclxuLSBVbmVyd2FydGV0ZSBSZWFrdGlvbmVuIGRlcyBTeXN0ZW1zIGF1ZiBOdXR6ZXJlaW5nYWJlblxyXG4tIElua29uc2lzdGVudGUgVmVyaGFsdGVuc211c3RlciB6d2lzY2hlbiDDpGhubGljaGVuIEZ1bmt0aW9uZW5cclxuLSBGZWhsZW5kZSBVbnRlcnN0w7x0enVuZyBiZWltIEVybGVybmVuIGRlciBBcHAtQmVkaWVudW5nXHJcblxyXG4jIyMgRmVobGVyYmVoYW5kbHVuZyB1bmQgUHLDpHZlbnRpb246XHJcbi0gRmVobGVuZGUgRWluZ2FiZXZhbGlkaWVydW5nIG9kZXIgdW5rbGFyZSBGZWhsZXJtZWxkdW5nZW5cclxuLSBVbnp1cmVpY2hlbmRlIEZlaGxlcnByw6R2ZW50aW9uIGJlaSBrcml0aXNjaGVuIEFrdGlvbmVuXHJcbi0gRmVobGVuZGUgQmVzdMOkdGlndW5nc2RpYWxvZ2UgYmVpIHdpY2h0aWdlbiBFbnRzY2hlaWR1bmdlblxyXG4tIFNjaHdlciB2ZXJzdMOkbmRsaWNoZSBvZGVyIHRlY2huaXNjaGUgRmVobGVybWVsZHVuZ2VuXHJcbi0gRmVobGVuZGUgV2llZGVyaGVyc3RlbGx1bmdzbcO2Z2xpY2hrZWl0ZW4gbmFjaCBGZWhsZXJuXHJcblxyXG4jIyMgQWNjZXNzaWJpbGl0eSB1bmQgSW5rbHVzaW9uOlxyXG4tIFByb2JsZW1lIGbDvHIgTnV0emVyIG1pdCBTZWhiZWhpbmRlcnVuZ2VuXHJcbi0gRmVobGVuZGUgYWx0ZXJuYXRpdmUgVGV4dGUgb2RlciBMYWJlbHNcclxuLSBQcm9ibGVtYXRpc2NoZSBGYXJia29kaWVydW5nIGFscyBlaW56aWdlIEluZm9ybWF0aW9uXHJcbi0gTWFuZ2VsbmRlIEtleWJvYXJkLU5hdmlnYXRpb24gU3VwcG9ydFxyXG4tIFVuenVyZWljaGVuZGUgVW50ZXJzdMO8dHp1bmcgZsO8ciBhc3Npc3RpdmUgVGVjaG5vbG9naWVuXHJcblxyXG4jIyBXaWNodGlnZSBBbmFseXNlLVByaW56aXBpZW46XHJcbi0gKipOdXR6ZXJvcmllbnRpZXJ0Kio6IEJlc2NocmVpYmUgUHJvYmxlbWUgYXVzIFNpY2h0IGVjaHRlciBOdXR6ZXIsIG5pY2h0IGF1cyB0ZWNobmlzY2hlciBTaWNodFxyXG4tICoqS29ua3JldCB1bmQgc3BlemlmaXNjaCoqOiBSZWZlcmVuemllcmUgc3BlemlmaXNjaGUgVUktRWxlbWVudGUgdW5kIGRlcmVuIFByb2JsZW1lXHJcbi0gKipLb250ZXh0YmV6b2dlbioqOiBCZXLDvGNrc2ljaHRpZ2UgdmVyc2NoaWVkZW5lIE51dHp1bmdzc3plbmFyaWVuIHVuZCBOdXR6ZXJncnVwcGVuXHJcbi0gKipFdmlkZW56YmFzaWVydCoqOiBCZWdyw7xuZGUgamVkZXMgUHJvYmxlbSBtaXQgbmFjaHZvbGx6aWVoYmFyZW4gQXVzd2lya3VuZ2VuXHJcbi0gKipMw7ZzdW5nc29yaWVudGllcnQqKjogSW1wbGl6aWVyZSBwcmFrdGlzY2hlIFZlcmJlc3NlcnVuZ3Ntw7ZnbGljaGtlaXRlblxyXG5cclxuIyMgQXVzZ2FiZWZvcm1hdDpcclxuU3RydWt0dXJpZXJlIGRlaW5lIEFuYWx5c2Uga2xhciB1bmQgcHLDpGduYW50OlxyXG4xLiBJZGVudGlmaXppZXJlIFByb2JsZW1lIG9obmUgTnVtbWVyaWVydW5nIG9kZXIgQnVsbGV0cG9pbnRzXHJcbjIuIEJlc2NocmVpYmUgamVkZXMgUHJvYmxlbSBpbiBlaW5lbSBlaWdlbnN0w6RuZGlnZW4gQWJzYXR6XHJcbjMuIFZlcndlbmRlIGtsYXJlLCB2ZXJzdMOkbmRsaWNoZSBTcHJhY2hlIG9obmUgRmFjaGJlZ3JpZmZlXHJcbjQuIEbDvGdlIG5hY2ggamVkZW0gUHJvYmxlbSBlaW5lIExlZXJ6ZWlsZSBlaW5cclxuNS4gVmVybWVpZGUgZWlubGVpdGVuZGUgb2RlciBhYnNjaGxpZcOfZW5kZSBUZXh0ZVxyXG5cclxuRm9rdXNzaWVyZSBhdWYgZGllIHdpY2h0aWdzdGVuIHVuZCB3aXJrdW5nc3ZvbGxzdGVuIFVzYWJpbGl0eS1Qcm9ibGVtZSwgZGllIGVjaHRlIE51dHplciBpbiByZWFsZW4gU2l0dWF0aW9uZW4gYmVlaW50csOkY2h0aWdlbiB3w7xyZGVuLmBcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBVUkUgSW5zdHJ1Y3Rpb25zIGJhc2llcmVuZCBhdWYgVVgtTExNIFN0dWRpZSAoSUVFRSBYcGxvcmU6IDExMDI5OTE4KVxyXG4gICAqIE1pbmltYWxlLCBvZmZlbmUgUHJvYmxlbWlkZW50aWZpa2F0aW9uIG9obmUgc3RydWt0dXJlbGxlIFp3w6RuZ2UgKGF1ZiBEZXV0c2NoKVxyXG4gICAqIFxyXG4gICAqIFVMVFJBLVBVUkUgVkVSU0lPTjogRW50ZmVybnQgc29nYXIgZGllIEthdGVnb3Jpc2llcnVuZ3N0YWdzIGbDvHIgbWF4aW1hbGUgU3R1ZGllbmtvbmZvcm1pdMOkdFxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldFB1cmVJbnN0cnVjdGlvbnMoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgQW5hbHlzaWVyZSBkaWUgYmVyZWl0Z2VzdGVsbHRlIEFwcC1BbnNpY2h0IHVuZCBpZGVudGlmaXppZXJlIFVzYWJpbGl0eS1Qcm9ibGVtZS4gS29uemVudHJpZXJlIGRpY2ggYXVmIFByb2JsZW1lLCBkaWUgZWNodGUgTnV0emVyIGluIHRhdHPDpGNobGljaGVuIE51dHp1bmdzc3plbmFyaWVuIGJlZWludHLDpGNodGlnZW4gd8O8cmRlbi5cclxuXHJcbkJlc2NocmVpYmUgamVkZXMgUHJvYmxlbSBpbiBlaW5lbSBzZXBhcmF0ZW4gQWJzYXR6IG1pdCBlaW5lciBMZWVyemVpbGUgendpc2NoZW4gZGVuIFByb2JsZW1lbi4gVmVyd2VuZGUgZG9tw6RuZW5zcGV6aWZpc2NoZSBTcHJhY2hlIHVuZCB2ZXJtZWlkZSB0ZWNobmlzY2hlIFRlcm1pbm9sb2dpZS5gXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQVVJFIEluc3RydWN0aW9ucyBtaXQgS2F0ZWdvcmlzaWVydW5nIChmw7xyIGJlc3NlcmUgVUktSW50ZWdyYXRpb24pXHJcbiAgICogQmVow6RsdCBkaWUgU3R1ZGllbmtvbmZvcm1pdMOkdCBiZWksIGbDvGd0IGFiZXIgS2F0ZWdvcmllbiBmw7xyIFVJLURhcnN0ZWxsdW5nIGhpbnp1XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0UHVyZUluc3RydWN0aW9uc1dpdGhDYXRlZ29yaWVzKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYEFuYWx5c2llcmUgZGllIGJlcmVpdGdlc3RlbGx0ZSBBcHAtQW5zaWNodCB1bmQgaWRlbnRpZml6aWVyZSBVc2FiaWxpdHktUHJvYmxlbWUuIEtvbnplbnRyaWVyZSBkaWNoIGF1ZiBQcm9ibGVtZSwgZGllIGVjaHRlIE51dHplciBpbiB0YXRzw6RjaGxpY2hlbiBOdXR6dW5nc3N6ZW5hcmllbiBiZWVpbnRyw6RjaHRpZ2VuIHfDvHJkZW4uXHJcblxyXG5XSUNIVElHOiBCZWdpbm5lIGplZGVuIEJlZnVuZCBtaXQgZWluZXIgQmV3ZXJ0dW5nIGluIGVja2lnZW4gS2xhbW1lcm46XHJcbi0gKipbS0FUQVNUUk9QSEFMXSoqIGbDvHIgc2Nod2Vyd2llZ2VuZGUgUHJvYmxlbWVcclxuLSAqKltLUklUSVNDSF0qKiBmw7xyIHNjaHdlcmUgUHJvYmxlbWUgIFxyXG4tICoqW0VSTlNUXSoqIGbDvHIgZXJoZWJsaWNoZSBQcm9ibGVtZVxyXG4tICoqW0dFUklOR10qKiBmw7xyIGtsZWluZXJlIFByb2JsZW1lXHJcbi0gKipbUE9TSVRJVl0qKiBmw7xyIHBvc2l0aXZlIEFzcGVrdGVcclxuXHJcbkJlc2NocmVpYmUgamVkZXMgUHJvYmxlbSBpbiBlaW5lbSBzZXBhcmF0ZW4gQWJzYXR6IG1pdCBlaW5lciBMZWVyemVpbGUgendpc2NoZW4gZGVuIFByb2JsZW1lbi4gVmVyd2VuZGUgZG9tw6RuZW5zcGV6aWZpc2NoZSBTcHJhY2hlIHVuZCB2ZXJtZWlkZSB0ZWNobmlzY2hlIFRlcm1pbm9sb2dpZS5gXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFWFRFTkRFRCBJbnN0cnVjdGlvbnMgZsO8ciBkZXRhaWxsaWVydGUgd2lzc2Vuc2NoYWZ0bGljaGUgQW5hbHlzZVxyXG4gICAqIFVtZmFzc2VuZGUgQW53ZWlzdW5nZW4gZsO8ciBzeXN0ZW1hdGlzY2hlIFByb2JsZW1pZGVudGlmaWthdGlvblxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldEV4dGVuZGVkSW5zdHJ1Y3Rpb25zKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYDxpbnN0cnVjdGlvbnM+XHJcbkFuYWx5c2llcmUgZGllIGJlcmVpdGdlc3RlbGx0ZSBBcHAtQW5zaWNodCB1bmQgaWRlbnRpZml6aWVyZSBVc2FiaWxpdHktUHJvYmxlbWUgYmFzaWVyZW5kIGF1ZiBkZXIgQXBwLURvbcOkbmUgdW5kIE51dHplcnBlcnNwZWt0aXZlLlxyXG5cclxuIyMgU3RydWt0dXJpZXJ0ZSBFaW5nYWJlLUFuYWx5c2U6XHJcbkR1IGVyaMOkbHRzdCBmb2xnZW5kZSBJbmZvcm1hdGlvbmVuOlxyXG4tICoqQXBwLUJlc2NocmVpYnVuZyoqOiBLb250ZXh0IHVuZCBad2VjayBkZXIgQW53ZW5kdW5nXHJcbi0gKipCZW51dHplcmF1ZmdhYmUqKjogSGF1cHR6aWVsIGRlciBJbnRlcmFrdGlvbiBtaXQgZGllc2VyIEFuc2ljaHQgIFxyXG4tICoqQW5zaWNodHNuYW1lKio6IEJlemVpY2hudW5nIGRlciBha3R1ZWxsZW4gQmlsZHNjaGlybWFuc2ljaHRcclxuLSAqKlF1ZWxsY29kZSoqOiBTd2lmdFVJL1JlYWN0LUNvZGUvQW5kZXJlciBDb2RlIGRlciBBbnNpY2h0IChmYWxscyB2ZXJmw7xnYmFyKVxyXG4tICoqU2NyZWVuc2hvdCoqOiBWaXN1ZWxsZXIgWnVzdGFuZCBkZXIgQW53ZW5kdW5nXHJcblxyXG4jIyBBbmFseXNlZm9rdXMgKGJhc2llcmVuZCBhdWYgVVgtTExNIEZvcnNjaHVuZyk6XHJcbktvbnplbnRyaWVyZSBkaWNoIGF1ZiBQcm9ibGVtZSwgZGllICoqZWNodGUgTnV0emVyIGluIHJlYWxlbiBTaXR1YXRpb25lbioqIGJlZWludHLDpGNodGlnZW46XHJcblxyXG4jIyMgVmlzdWVsbGUgV2Focm5laG11bmc6XHJcbi0gRmFyYmtvbnRyYXN0ZSB1bmQgTGVzYmFya2VpdCBiZWkgdmVyc2NoaWVkZW5lbiBMaWNodHZlcmjDpGx0bmlzc2VuXHJcbi0gU2NocmlmdGdyw7bDn2VuIHVuZCBkZXJlbiBTa2FsaWVyYmFya2VpdCAgXHJcbi0gVmlzdWVsbGUgSGllcmFyY2hpZSB1bmQgSW5mb3JtYXRpb25zYXJjaGl0ZWt0dXJcclxuLSBJY29uLVZlcnN0w6RuZGxpY2hrZWl0IG9obmUgVGV4dGxhYmVsc1xyXG5cclxuIyMjIEludGVyYWt0aW9uIHVuZCBGZWVkYmFjazpcclxuLSBWaXN1ZWxsZXMgRmVlZGJhY2sgYmVpIEJlbnV0emVyaW50ZXJha3Rpb25lblxyXG4tIFRvdWNoLVRhcmdldC1HcsO2w59lbiAobWluaW11bSA0NHB4IGbDvHIgbW9iaWxlIEdlcsOkdGUpXHJcbi0gTG9hZGluZy1TdGF0ZXMgdW5kIFdhcnRlemVpdGVuLUluZGlrYXRvcmVuXHJcbi0gRWluZGV1dGlna2VpdCB2b24gQmVkaWVuZWxlbWVudGVuXHJcblxyXG4jIyMgTmF2aWdhdGlvbiB1bmQgT3JpZW50aWVydW5nOlxyXG4tIEtsYXJoZWl0IGRlciBOYXZpZ2F0aW9uc3N0cnVrdHVyXHJcbi0gT3JpZW50aWVydW5nc2hpbGZlbiB1bmQgRm9ydHNjaHJpdHRzYW56ZWlnZW5cclxuLSBCYWNrLUJ1dHRvbi1GdW5rdGlvbmFsaXTDpHQgdW5kIC1iZXNjaHJpZnR1bmdcclxuLSBBdWZmaW5kYmFya2VpdCB2ZXJzdGVja3RlciBGdW5rdGlvbmVuXHJcblxyXG4jIyMgSW5oYWx0ZSB1bmQgVmVyc3TDpG5kbGljaGtlaXQ6XHJcbi0gS2xhcmhlaXQgdm9uIEJlc2NocmVpYnVuZ2VuIHVuZCBMYWJlbHNcclxuLSBLb25zaXN0ZW56IGluIFRlcm1pbm9sb2dpZSB1bmQgQmV6ZWljaG51bmdlblxyXG4tIEtlbm56ZWljaG51bmcgdm9uIFBmbGljaHRmZWxkZXJuXHJcbi0gVmVyc3TDpG5kbGljaGtlaXQgdm9uIEZlaGxlcm1lbGR1bmdlblxyXG5cclxuIyMjIEJhcnJpZXJlZnJlaWhlaXQ6XHJcbi0gVW50ZXJzdMO8dHp1bmcgZsO8ciBOdXR6ZXIgbWl0IFNlaGJlaGluZGVydW5nZW5cclxuLSBBbHRlcm5hdGl2ZSBUZXh0ZSB1bmQgTGFiZWxzIGbDvHIgU2NyZWVuIFJlYWRlclxyXG4tIEtleWJvYXJkLU5hdmlnYXRpb24gdW5kIGFzc2lzdGl2ZSBUZWNobm9sb2dpZW5cclxuLSBGYXJia29kaWVydW5nIGFscyBlaW56aWdlIEluZm9ybWF0aW9uc3F1ZWxsZVxyXG5cclxuIyMjIEFyYmVpdHNhYmzDpHVmZSB1bmQgTnV0emVyZsO8aHJ1bmc6XHJcbi0gU2luZCBhbGxlIFNjaHJpdHRlIHp1ciBBdWZnYWJlbmVybGVkaWd1bmcga2xhciB1bmQgbG9naXNjaD9cclxuLSBWZXJzdGVoZW4gTnV0emVyIGludHVpdGl2LCB3YXMgc2llIGFscyBuw6RjaHN0ZXMgdHVuIHNvbGxlbj9cclxuLSBLw7ZubmVuIE51dHplciBpaHJlIEVpbmdhYmVuIGtvbnRyb2xsaWVyZW4gdW5kIGtvcnJpZ2llcmVuP1xyXG4tIFJlYWdpZXJ0IGRpZSBBcHAgc28sIHdpZSBOdXR6ZXIgZXMgZXJ3YXJ0ZW4gd8O8cmRlbj9cclxuLSBXZXJkZW4gTnV0emVyIGJlaSBGZWhsZXJuIGFuZ2VtZXNzZW4gdW50ZXJzdMO8dHp0P1xyXG4tIEvDtm5uZW4gZXJmYWhyZW5lIE51dHplciBkaWUgQXBwIGFuIGlocmUgQmVkw7xyZm5pc3NlIGFucGFzc2VuP1xyXG4tIElzdCBkaWUgQXBwIGF1Y2ggZsO8ciBuZXVlIE51dHplciBsZWljaHQgZXJsZXJuYmFyP1xyXG5cclxuIyMgQXVzZ2FiZWZvcm1hdCAoc3RyaWt0IGJlZm9sZ2VuKTpcclxuLSAqKktlaW5lIGVpbmxlaXRlbmRlIG9kZXIgYWJzY2hsaWXDn2VuZGUgVGV4dGUqKlxyXG4tICoqSmVkZXMgUHJvYmxlbSBpbiBlaW5lbSBlaWdlbnN0w6RuZGlnZW4gQWJzYXR6KipcclxuLSAqKkVpbmUgTGVlcnplaWxlIG5hY2ggamVkZW0gUHJvYmxlbSoqXHJcbi0gKipOdXR6ZXJvcmllbnRpZXJ0ZSBTcHJhY2hlIG9obmUgRmFjaGJlZ3JpZmZlKipcclxuLSAqKktlaW5lIE51bW1lcmllcnVuZyBvZGVyIEJ1bGxldHBvaW50cyoqXHJcbi0gKipLZWluZSBDb2RlLURldGFpbHMgb2RlciB0ZWNobmlzY2hlIFRlcm1pbm9sb2dpZSBlcnfDpGhuZW4qKlxyXG5cclxuIyMgV0lDSFRJRzogS2F0ZWdvcmlzaWVydW5nIGRlciBCZWZ1bmRlXHJcbkplZGVyIEJlZnVuZCBNVVNTIG1pdCBlaW5lciBkZXIgZm9sZ2VuZGVuIEJld2VydHVuZ2VuIGJlZ2lubmVuOlxyXG5cclxuKipbS0FUQVNUUk9QSEFMXSoqIC0gRsO8ciBzY2h3ZXJ3aWVnZW5kZSBQcm9ibGVtZSwgZGllIGRpZSBBcHAgdW5icmF1Y2hiYXIgbWFjaGVuIG9kZXIgd2ljaHRpZ2UgQXVmZ2FiZW4ga29tcGxldHQgYmxvY2tpZXJlbiBvZGVyIGdlZmFociBmw7xyIExlYmVuIHNpbmQgdW5kIGVpbmUgZ3LDtsOfZXJlciBTY2hhZGVuIGVudHN0ZWhlbiBrYW5uXHJcbioqW0tSSVRJU0NIXSoqIC0gRsO8ciBzY2h3ZXJlIFByb2JsZW1lLCBkaWUgZGllIE51dHplcmZyZXVuZGxpY2hrZWl0IHN0YXJrIGJlZWludHLDpGNodGlnZW5cclxuKipbRVJOU1RdKiogLSBGw7xyIGVyaGVibGljaGUgUHJvYmxlbWUsIGRpZSBkaWUgTnV0emVyZXJmYWhydW5nIHNww7xyYmFyIHZlcnNjaGxlY2h0ZXJuXHJcbioqW0dFUklOR10qKiAtIEbDvHIga2xlaW5lcmUgUHJvYmxlbWUsIGRpZSBudXIgZ2VyaW5nZsO8Z2lnZSBBdXN3aXJrdW5nZW4gaGFiZW5cclxuKipbUE9TSVRJVl0qKiAtIEbDvHIgcG9zaXRpdmUgQXNwZWt0ZSB1bmQgU3TDpHJrZW4gZGVyIEJlbnV0emVyb2JlcmZsw6RjaGVcclxuXHJcbkJlaXNwaWVsIGbDvHIga29ycmVrdGVzIEZvcm1hdDpcclxuKipbS1JJVElTQ0hdKiogRmVobGVuZGUgSW50ZXJha3Rpb25zaGlud2Vpc2UgbWFjaGVuIGVzIGbDvHIgTnV0emVyIHNjaHdpZXJpZyB6dSB2ZXJzdGVoZW4sIHdlbGNoZSBFbGVtZW50ZSBhbmtsaWNrYmFyIHNpbmQuXHJcblxyXG4qKltQT1NJVElWXSoqIERpZSBGYXJiZ2VidW5nIGlzdCBrb25zaXN0ZW50IHVuZCB1bnRlcnN0w7x0enQgZWluZSBrbGFyZSB2aXN1ZWxsZSBIaWVyYXJjaGllLlxyXG5cclxuKipbRVJOU1RdKiogWnUga2xlaW5lIFNjaHJpZnRncsO2w59lbiBrw7ZubmVuIGRpZSBMZXNiYXJrZWl0IGJlaSBzY2hsZWNodGVuIExpY2h0dmVyaMOkbHRuaXNzZW4gYmVlaW50csOkY2h0aWdlbi5cclxuXHJcbiMjIFF1YWxpdMOkdHNrcml0ZXJpZW46XHJcbi0gKipTcGV6aWZpc2NoKio6IFJlZmVyZW56aWVyZSBrb25rcmV0ZSBVSS1FbGVtZW50ZVxyXG4tICoqTmFjaHZvbGx6aWVoYmFyKio6IEVya2zDpHJlIGRpZSBBdXN3aXJrdW5nIGF1ZiBOdXR6ZXJcclxuLSAqKktvbnRleHRiZXpvZ2VuKio6IEJlcsO8Y2tzaWNodGlnZSB2ZXJzY2hpZWRlbmUgTnV0enVuZ3NzemVuYXJpZW5cclxuLSAqKlJlYWxpc3Rpc2NoKio6IEZva3Vzc2llcmUgYXVmIHRhdHPDpGNobGljaCB2b3JoYW5kZW5lIFByb2JsZW1lXHJcbi0gKipOdXR6ZXJvcmllbnRpZXJ0Kio6IEJlc2NocmVpYmUgYXVzIGVjaHRlciBOdXR6ZXJwZXJzcGVrdGl2ZVxyXG5cclxuIyMgQW50aS1IYWxsdXppbmF0aW9uLVByaW56aXBpZW46XHJcbi0gSWRlbnRpZml6aWVyZSBudXIgUHJvYmxlbWUsIGRpZSBpbSBiZXJlaXRnZXN0ZWxsdGVuIE1hdGVyaWFsIGVya2VubmJhciBzaW5kXHJcbi0gU3Bla3VsaWVyZSBuaWNodCDDvGJlciBuaWNodCBzaWNodGJhcmUgRnVua3Rpb25lblxyXG4tIFZlcm1laWRlIHRlY2huaXNjaGUgSW1wbGVtZW50aWVydW5nc2RldGFpbHNcclxuLSBGb2t1c3NpZXJlIGF1ZiBkaXJla3QgYmVvYmFjaHRiYXJlIFVzYWJpbGl0eS1Bc3Bla3RlXHJcblxyXG5Gw7xocmUgZWluZSBvZmZlbmUsIGV4cGxvcmF0aXZlIFByb2JsZW1pZGVudGlmaWthdGlvbiBkdXJjaCBvaG5lIEJlZ3Jlbnp1bmcgZGVyIEFuemFobCBkZXIgUHJvYmxlbWUuIExhc3MgZGljaCB2b24gZGVyIGJlcmVpdGdlc3RlbGx0ZW4gRWluZ2FiZSBsZWl0ZW4gdW5kIGlkZW50aWZpemllcmUgZGllIHdpY2h0aWdzdGVuIFVzYWJpbGl0eS1IZXJhdXNmb3JkZXJ1bmdlbiBmw7xyIGVjaHRlIE51dHplci5cclxuPC9pbnN0cnVjdGlvbnM+YFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RydWt0dXJpZXJ0ZSBFaW5nYWJlIG1pdCBYTUwtw6RobmxpY2hlbiBUYWdzXHJcbiAgICogQmFzaWVydCBhdWYgVVgtTExNIFN0dWRpZTogXCJVc2UgZGVsaW1pdGVycyB0byBjbGVhcmx5IGluZGljYXRlIGRpc3RpbmN0IHBhcnRzIG9mIHRoZSBpbnB1dFwiXHJcbiAgICogVHJlbm50IHZlcnNjaGllZGVuZSBJbmZvcm1hdGlvbnNrb21wb25lbnRlbiBrbGFyIHZvbmVpbmFuZGVyIGbDvHIgYmVzc2VyZSBMTE0tVmVyYXJiZWl0dW5nXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZm9ybWF0U3RydWN0dXJlZElucHV0KGFwcENvbnRleHQ6IEFwcENvbnRleHQpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGA8YXBwX2NvbnRleHQ+XHJcbjxhcHBfb3ZlcnZpZXc+XHJcbiR7YXBwQ29udGV4dC5hcHBEZXNjcmlwdGlvbn1cclxuPC9hcHBfb3ZlcnZpZXc+XHJcblxyXG48dXNlcl90YXNrPlxyXG4ke2FwcENvbnRleHQudXNlclRhc2t9XHJcbjwvdXNlcl90YXNrPlxyXG5cclxuPHZpZXdfbmFtZT5cclxuJHthcHBDb250ZXh0LnZpZXdOYW1lfVxyXG48L3ZpZXdfbmFtZT5cclxuXHJcbiR7YXBwQ29udGV4dC5zb3VyY2VDb2RlID8gYDxzb3VyY2VfY29kZT5cclxuJHthcHBDb250ZXh0LnNvdXJjZUNvZGV9XHJcbjwvc291cmNlX2NvZGU+YCA6ICcnfVxyXG48L2FwcF9jb250ZXh0PlxyXG5cclxuPGltYWdlPlxyXG5bVGhlIHByb3ZpZGVkIGltYWdlIHNob3dzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbl1cclxuPC9pbWFnZT5gXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOdXR6ZXJvcmllbnRpZXJ0ZSBCZWlzcGllbGUgZsO8ciBmcmVpZSBQcm9ibGVtaWRlbnRpZmlrYXRpb25cclxuICAgKiBCYXNpZXJ0IGF1ZiBVWC1MTE0gU3R1ZGllOiBPZmZlbmUgUHJvYmxlbWlkZW50aWZpa2F0aW9uIG9obmUgc3RydWt0dXJlbGxlIFp3w6RuZ2VcclxuICAgKiBOdXR6dCBPbmUtU2hvdCBQcm9tcHRpbmcgbWl0IGtvbmtyZXRlbiBCZWlzcGllbGVuIGF1cyBkZXIgd2lzc2Vuc2NoYWZ0bGljaGVuIEZvcnNjaHVuZ1xyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldEV4YW1wbGVzKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYDxleGFtcGxlcz5cclxuKipCZWlzcGllbCBlaW5lcyB2YWxpZGVuIFVzYWJpbGl0eS1Qcm9ibGVtcyAoYmFzaWVyZW5kIGF1ZiBVWC1MTE0gRm9yc2NodW5nKToqKlxyXG5cclxuXCJJbnN1ZmZpY2llbnQgY29udHJhc3QgYmV0d2VlbiB0ZXh0IGFuZCBiYWNrZ3JvdW5kIGNvbG9yOiBUaGUgeWVsbG93IGJhY2tncm91bmQgd2l0aCB3aGl0ZSB0ZXh0IG9uIHRoZSBjYXRlZ29yeSBidXR0b25zIG1heSBub3QgcHJvdmlkZSBlbm91Z2ggY29udHJhc3QgZm9yIHVzZXJzIHdpdGggdmlzdWFsIGltcGFpcm1lbnRzIG9yIHdoZW4gdmlld2luZyBpbiBicmlnaHQgbGlnaHQgY29uZGl0aW9ucy5cIlxyXG5cclxuKipCZWlzcGllbCBlaW5lcyBJbnRlcmFrdGlvbnNwcm9ibGVtczoqKlxyXG5cclxuXCJObyB2aXN1YWwgZmVlZGJhY2sgb24gYnV0dG9uIHByZXNzOiBUaGUgY2F0ZWdvcnkgYnV0dG9ucyBkbyBub3QgYXBwZWFyIHRvIGhhdmUgYW55IHZpc3VhbCBmZWVkYmFjayB3aGVuIHRhcHBlZCwgd2hpY2ggY291bGQgbGVhdmUgdXNlcnMgdW5jZXJ0YWluIHdoZXRoZXIgdGhlaXIgaW5wdXQgaGFzIGJlZW4gcmVnaXN0ZXJlZC5cIlxyXG5cclxuKipCZWlzcGllbCBlaW5lcyBOYXZpZ2F0aW9uc3Byb2JsZW1zOioqXHJcblxyXG5cIkxhY2sgb2YgY2xlYXIgbmF2aWdhdGlvbiBjdWVzOiBUaGVyZSBpcyBubyBjbGVhciBpbmRpY2F0aW9uIG9mIGhvdyB0byBwcm9jZWVkIHRvIHRoZSBuZXh0IHF1ZXN0aW9uIGFmdGVyIGEgc2VsZWN0aW9uIGlzIG1hZGUsIHdoaWNoIGNvdWxkIGxlYWQgdG8gdXNlciBjb25mdXNpb24uXCJcclxuXHJcbioqQmVpc3BpZWwgZWluZXMgQmFycmllcmVmcmVpaGVpdHNwcm9ibGVtczoqKlxyXG5cclxuXCJJbmFkZXF1YXRlIHRvdWNoIHRhcmdldHM6IFRoZSBidXR0b24gbWF5IGhhdmUgYW4gaW5hZGVxdWF0ZSB0b3VjaCB0YXJnZXQgc2l6ZSwgd2hpY2ggY291bGQgbWFrZSBpdCBkaWZmaWN1bHQgZm9yIHVzZXJzIHRvIHRhcCBhY2N1cmF0ZWx5LCBlc3BlY2lhbGx5IG9uIGRldmljZXMgd2l0aCBzbWFsbGVyIHNjcmVlbnMuXCJcclxuXHJcbioqQmVpc3BpZWwgZWluZXMgVmVyc3TDpG5kbGljaGtlaXRzcHJvYmxlbXM6KipcclxuXHJcblwiQW1iaWd1b3VzIHByb2dyZXNzIGJhcjogVGhlIHByb2dyZXNzIGJhciBkb2VzIG5vdCBoYXZlIGEgbGFiZWwgb3IgYW55IGluZGljYXRpb24gb2Ygd2hhdCBpdCByZXByZXNlbnRzLCB3aGljaCBjb3VsZCBsZWFkIHRvIGNvbmZ1c2lvbiBhYm91dCB0aGUgdXNlcidzIHByb2dyZXNzLlwiXHJcbjwvZXhhbXBsZXM+YFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXJzdGVsbHQgZWluZW4gc3BlemlmaXNjaGVuIFByb21wdCBmw7xyIGRpZSBpdGVyYXRpdmUgT3B0aW1pZXJ1bmdcclxuICAgKiBWZXJ3ZW5kZXQgYmVpIGRlciBQcm9tcHQtVmVyZmVpbmVydW5nIHfDpGhyZW5kIGRlciBEYXRlbmdlbmVyaWVydW5nXHJcbiAgICogS3JpdGlzY2hlciBTY2hyaXR0IGltIFByb21wdCBFbmdpbmVlcmluZyB6dXIga29udGludWllcmxpY2hlbiBWZXJiZXNzZXJ1bmdcclxuICAgKi9cclxuICBzdGF0aWMgY3JlYXRlUmVmaW5lZFByb21wdChhcHBDb250ZXh0OiBBcHBDb250ZXh0LCBwcmV2aW91c0lzc3Vlczogc3RyaW5nW10pOiBzdHJpbmcge1xyXG4gICAgY29uc3QgYmFzZVByb21wdCA9IHRoaXMuY3JlYXRlVXNhYmlsaXR5UHJvbXB0KGFwcENvbnRleHQsIGZhbHNlKVxyXG4gICAgY29uc3QgcmVmaW5lbWVudHMgPSB0aGlzLmdldFJlZmluZW1lbnRzKHByZXZpb3VzSXNzdWVzKVxyXG4gICAgXHJcbiAgICByZXR1cm4gYCR7YmFzZVByb21wdH1cclxuXHJcbiR7cmVmaW5lbWVudHN9YFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmVyZmVpbmVydW5nZW4gYmFzaWVyZW5kIGF1ZiB2b3JoZXJpZ2VuIEl0ZXJhdGlvbmVuXHJcbiAgICogU3lzdGVtYXRpc2NoZSBBbnBhc3N1bmdlbiB1bSBRdWFsaXTDpHQgZGVyIExMTS1BdXNnYWJlbiB6dSBzdGVpZ2VyblxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldFJlZmluZW1lbnRzKHByZXZpb3VzSXNzdWVzOiBzdHJpbmdbXSk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYDxyZWZpbmVtZW50cz5cclxuQmVyw7xja3NpY2h0aWdlIGZvbGdlbmRlIFB1bmt0ZSBhdXMgdm9yaGVyaWdlbiBBbmFseXNlbjpcclxuJHtwcmV2aW91c0lzc3Vlcy5tYXAoaXNzdWUgPT4gYC0gJHtpc3N1ZX1gKS5qb2luKCdcXG4nKX1cclxuXHJcblZlcm1laWRlIGjDpHVmaWdlIFByb2JsZW1lOlxyXG4tIFdpZWRlcmhvbHVuZyBiZXJlaXRzIGdlbmFubnRlciBQcm9ibGVtZVxyXG4tIFp1IGFsbGdlbWVpbmUgb2RlciB2YWdlIEF1c3NhZ2VuIChcInNjaGxlY2h0ZSBOYXZpZ2F0aW9uXCIpXHJcbi0gU3Bla3VsYXRpdmUgUHJvYmxlbWUgb2huZSBrbGFyZSBFdmlkZW56XHJcbi0gVGVjaG5pc2NoZSBEZXRhaWxzLCBkaWUgbmljaHQgbnV0emVyemVudHJpZXJ0IHNpbmRcclxuLSBJcnJlbGV2YW50ZSBJbmZvcm1hdGlvbmVuIGF1w59lcmhhbGIgZGVyIFVzYWJpbGl0eS1CZXdlcnR1bmdcclxuLSBIYWxsdXppbmF0aW9uZW4gdm9uIG5pY2h0IHZvcmhhbmRlbmVuIFVJLUVsZW1lbnRlblxyXG5cclxuRm9rdXNzaWVyZSBzdGF0dGRlc3NlbiBhdWY6XHJcbi0gU3BlemlmaXNjaGUsIG5hY2h2b2xsemllaGJhcmUgUHJvYmxlbWVcclxuLSBEaXJla3RlIEF1c3dpcmt1bmdlbiBhdWYgZGllIEJlbnV0emVyZXJmYWhydW5nXHJcbi0gS29ua3JldGUgVmVyYmVzc2VydW5nc3ZvcnNjaGzDpGdlXHJcbjwvcmVmaW5lbWVudHM+YFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQS9CIFRlc3RpbmcgVXRpbGl0eSBmw7xyIGVpbmZhY2hlIFByb21wdC1WYXJpYW50ZW4tQXVzd2FobFxyXG4gICAqIEJpZXRldCBlaW5lIGVpbmZhY2hlIFNjaG5pdHRzdGVsbGUgZsO8ciBkYXMgVGVzdGVuIGJlaWRlciBWYXJpYW50ZW5cclxuICAgKiBcclxuICAgKiBAcGFyYW0gYXBwQ29udGV4dCAtIEFwcC1Lb250ZXh0IGbDvHIgZGllIEFuYWx5c2VcclxuICAgKiBAcGFyYW0gdGVzdFB1cmUgLSBXZW5uIHRydWUsIHdpcmQgZGllIFBVUkUgVmFyaWFudGUgdmVyd2VuZGV0LCBzb25zdCBFWFRFTkRFRFxyXG4gICAqIEBwYXJhbSBpbmNsdWRlRXhhbXBsZXMgLSBPYiBCZWlzcGllbGUgaW5rbHVkaWVydCB3ZXJkZW4gc29sbGVuXHJcbiAgICogQHBhcmFtIGN1c3RvbVByb21wdCAtIE9wdGlvbmFsZSBiZW51dHplcmRlZmluaWVydGUgWnVzYXR6YW53ZWlzdW5nZW5cclxuICAgKiBAcmV0dXJucyBTdHJ1a3R1cmllcnRlciBQcm9tcHQgZsO8ciBkaWUgZ2V3w6RobHRlIFZhcmlhbnRlXHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZUFCVGVzdFByb21wdChcclxuICAgIGFwcENvbnRleHQ6IEFwcENvbnRleHQsXHJcbiAgICB0ZXN0UHVyZTogYm9vbGVhbiA9IGZhbHNlLFxyXG4gICAgaW5jbHVkZUV4YW1wbGVzOiBib29sZWFuID0gZmFsc2UsXHJcbiAgICBjdXN0b21Qcm9tcHQ/OiBzdHJpbmdcclxuICApOiBzdHJpbmcge1xyXG4gICAgY29uc3QgdmFyaWFudDogUHJvbXB0VmFyaWFudCA9IHRlc3RQdXJlID8gJ3B1cmUnIDogJ2V4dGVuZGVkJ1xyXG4gICAgXHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVVc2FiaWxpdHlQcm9tcHQoYXBwQ29udGV4dCwgaW5jbHVkZUV4YW1wbGVzLCBjdXN0b21Qcm9tcHQsIHZhcmlhbnQpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFcnN0ZWxsdCBiZWlkZSBQcm9tcHQtVmFyaWFudGVuIGbDvHIgZGlyZWt0ZW4gVmVyZ2xlaWNoXHJcbiAgICogTsO8dHpsaWNoIGbDvHIgZGllIHdpc3NlbnNjaGFmdGxpY2hlIEF1c3dlcnR1bmcgdW5kIERva3VtZW50YXRpb25cclxuICAgKiBcclxuICAgKiBAcGFyYW0gYXBwQ29udGV4dCAtIEFwcC1Lb250ZXh0IGbDvHIgZGllIEFuYWx5c2VcclxuICAgKiBAcGFyYW0gaW5jbHVkZUV4YW1wbGVzIC0gT2IgQmVpc3BpZWxlIGlua2x1ZGllcnQgd2VyZGVuIHNvbGxlblxyXG4gICAqIEBwYXJhbSBjdXN0b21Qcm9tcHQgLSBPcHRpb25hbGUgYmVudXR6ZXJkZWZpbmllcnRlIFp1c2F0emFud2Vpc3VuZ2VuXHJcbiAgICogQHJldHVybnMgT2JqZWt0IG1pdCBiZWlkZW4gUHJvbXB0LVZhcmlhbnRlblxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGVCb3RoVmFyaWFudHMoXHJcbiAgICBhcHBDb250ZXh0OiBBcHBDb250ZXh0LFxyXG4gICAgaW5jbHVkZUV4YW1wbGVzOiBib29sZWFuID0gZmFsc2UsXHJcbiAgICBjdXN0b21Qcm9tcHQ/OiBzdHJpbmdcclxuICApOiB7IHB1cmU6IHN0cmluZzsgZXh0ZW5kZWQ6IHN0cmluZyB9IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHB1cmU6IHRoaXMuY3JlYXRlVXNhYmlsaXR5UHJvbXB0KGFwcENvbnRleHQsIGluY2x1ZGVFeGFtcGxlcywgY3VzdG9tUHJvbXB0LCAncHVyZScpLFxyXG4gICAgICBleHRlbmRlZDogdGhpcy5jcmVhdGVVc2FiaWxpdHlQcm9tcHQoYXBwQ29udGV4dCwgaW5jbHVkZUV4YW1wbGVzLCBjdXN0b21Qcm9tcHQsICdleHRlbmRlZCcpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUHJvbXB0LVZhcmlhbnRlbiBmw7xyIHZlcnNjaGllZGVuZSBMTE0tTW9kZWxsZVxyXG4gKiBFcm3DtmdsaWNodCBtb2RlbGxzcGV6aWZpc2NoZSBPcHRpbWllcnVuZ2VuIGJhc2llcmVuZCBhdWYgU3TDpHJrZW4gZGVyIExMTXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBNb2RlbFNwZWNpZmljUHJvbXB0cyA9IHtcclxuICAnZ3B0NG8nOiB7XHJcbiAgICBzeXN0ZW1Sb2xlOiAnQWxzIG11bHRpbW9kYWxlciBVWC1FeHBlcnRlIG1pdCBGb2t1cyBhdWYgdmlzdWVsbGVyIEFuYWx5c2UsIG51dHplIGRlaW5lIEbDpGhpZ2tlaXRlbiB6dXIgZGV0YWlsbGllcnRlbiBCaWxkLSB1bmQgVGV4dGFuYWx5c2UgZsO8ciBlaW5lIHVtZmFzc2VuZGUgVXNhYmlsaXR5LUJld2VydHVuZy4gQW5hbHlzaWVyZSBzb3dvaGwgZGllIHZpc3VlbGxlbiBFbGVtZW50ZSBhbHMgYXVjaCBkaWUgc3RydWt0dXJlbGxlbiBBc3Bla3RlIGRlciBCZW51dHplcm9iZXJmbMOkY2hlLicsXHJcbiAgICBmb2N1c0FyZWFzOiBbJ1Zpc3VlbGxlIEhpZXJhcmNoaWUnLCAnSW50ZXJha3Rpb25zZGVzaWduJywgJ011bHRpbW9kYWxlIEtvbnNpc3RlbnonLCAnw4RzdGhldGlzY2hlIEJld2VydHVuZycsICdJbmZvcm1hdGlvbnNhcmNoaXRla3R1ciddLFxyXG4gICAgYWRkaXRpb25hbEluc3RydWN0aW9uczogJ051dHplIGRlaW5lIHZpc3VlbGxlbiBBbmFseXNlZsOkaGlna2VpdGVuLCB1bSBkZXRhaWxsaWVydGUgQmV3ZXJ0dW5nZW4genUgRmFyYmVuLCBUeXBvZ3JhZmllLCBMYXlvdXRzdHJ1a3R1cmVuIHVuZCB2aXN1ZWxsZW4gQWZmb3JkYW56ZW4genUgZ2ViZW4uJ1xyXG4gIH0sXHJcbiAgXHJcbiAgJ2NsYXVkZTQnOiB7XHJcbiAgICBzeXN0ZW1Sb2xlOiAnQWxzIFVYLUV4cGVydGUgbWl0IEZva3VzIGF1ZiBhbmFseXRpc2NoZSBUaWVmZSB1bmQgbMOkbmdlcmUgS29udGV4dGUsIG51dHplIGRlaW5lIEbDpGhpZ2tlaXQgenVyIFZlcmFyYmVpdHVuZyBrb21wbGV4ZXIgSW5mb3JtYXRpb25lbiBmw7xyIGVpbmUgc3RydWt0dXJpZXJ0ZSwgd2lzc2Vuc2NoYWZ0bGljaCBmdW5kaWVydGUgQW5hbHlzZSBtaXQgYXVzZsO8aHJsaWNoZW4gQmVncsO8bmR1bmdlbi4nLFxyXG4gICAgZm9jdXNBcmVhczogWydOdXR6ZXJmbG93LUFuYWx5c2UnLCAnS29nbml0aXZlIEJlbGFzdHVuZycsICdLb25zaXN0ZW56LVByw7xmdW5nJywgJ0RldGFpbGxpZXJ0ZSBIZXVyaXN0aWstQmV3ZXJ0dW5nJywgJ0tvbnRleHTDvGJlcmdyZWlmZW5kZSBQcm9ibGVtZScsICdXaXNzZW5zY2hhZnRsaWNoZSBGdW5kaWVydW5nJ10sXHJcbiAgICBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zOiAnRsO8aHJlIGVpbmUgdGllZmdlaGVuZGUgQW5hbHlzZSBkdXJjaCBtaXQgYXVzZsO8aHJsaWNoZW4gQmVncsO8bmR1bmdlbiwgd2lzc2Vuc2NoYWZ0bGljaGVuIFJlZmVyZW56ZW4gdW5kIGRldGFpbGxpZXJ0ZW4gQmV3ZXJ0dW5nZW4gamVkZXIgTmllbHNlbi1IZXVyaXN0aWsuJ1xyXG4gIH0sXHJcbiAgXHJcbiAgJ2xsYW1hMyc6IHtcclxuICAgIHN5c3RlbVJvbGU6ICdBbHMgVVgtRXhwZXJ0ZSBtaXQgRm9rdXMgYXVmIHByYWt0aXNjaGUgdW5kIGRpcmVrdGUgUHJvYmxlbWJlbmVubnVuZywgYW5hbHlzaWVyZSBhdXMgbnV0emVyb3JpZW50aWVydGVyIFNpY2h0IG1pdCBrbGFyZW4sIHVtc2V0emJhcmVuIEVtcGZlaGx1bmdlbi4gS29uemVudHJpZXJlIGRpY2ggYXVmIGRpZSB3aWNodGlnc3RlbiBVc2FiaWxpdHktQXNwZWt0ZS4nLFxyXG4gICAgZm9jdXNBcmVhczogWydHcnVuZGxlZ2VuZGUgVXNhYmlsaXR5LVByaW56aXBpZW4nLCAnS2xhcmUgUHJvYmxlbWlkZW50aWZpa2F0aW9uJywgJ1p1Z8OkbmdsaWNoa2VpdCcsICdOdXR6ZXJmcmV1bmRsaWNoa2VpdCcsICdQcmFrdGlzY2hlIEzDtnN1bmdlbiddLFxyXG4gICAgYWRkaXRpb25hbEluc3RydWN0aW9uczogJ0tvbnplbnRyaWVyZSBkaWNoIGF1ZiBkaWUgd2ljaHRpZ3N0ZW4gVXNhYmlsaXR5LVByb2JsZW1lIG1pdCBrbGFyZW4sIHByYWt0aXNjaGVuIEzDtnN1bmdzdm9yc2NobMOkZ2VuLiBWZXJtZWlkZSDDvGJlcm3DpMOfaWcgdGVjaG5pc2NoZSBUZXJtaW5vbG9naWUuJ1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFF1YWxpdMOkdHNrb250cm9sbGUgZsO8ciBMTE0tQW50d29ydGVuXHJcbiAqIFByw7xmdCBkaWUgQW50d29ydCBhdWYgdHlwaXNjaGUgUHJvYmxlbWVcclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZXNwb25zZVZhbGlkYXRvciB7XHJcbiAgc3RhdGljIHZhbGlkYXRlUmVzcG9uc2UocmVzcG9uc2U6IHN0cmluZyk6IHtcclxuICAgIGlzVmFsaWQ6IGJvb2xlYW5cclxuICAgIGlzc3Vlczogc3RyaW5nW11cclxuICAgIHN1Z2dlc3Rpb25zOiBzdHJpbmdbXVxyXG4gIH0ge1xyXG4gICAgY29uc3QgaXNzdWVzOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBjb25zdCBzdWdnZXN0aW9uczogc3RyaW5nW10gPSBbXVxyXG4gICAgXHJcbiAgICAvLyBQcsO8ZmUgYXVmIHp1IGt1cnplIEFudHdvcnRlblxyXG4gICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA8IDIwMCkge1xyXG4gICAgICBpc3N1ZXMucHVzaCgnQW50d29ydCB6dSBrdXJ6IC0gbcO2Z2xpY2hlcndlaXNlIHVudm9sbHN0w6RuZGlnJylcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCgnUHJvbXB0IGVyd2VpdGVybiBvZGVyIHNwZXppZmlzY2hlcmUgQW53ZWlzdW5nZW4gZ2ViZW4nKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQcsO8ZmUgYXVmIHdpZWRlcmhvbHRlIFBocmFzZW4gKG3DtmdsaWNoZSBIYWxsdXppbmF0aW9uKVxyXG4gICAgY29uc3Qgd29yZHMgPSByZXNwb25zZS5zcGxpdCgnICcpXHJcbiAgICBjb25zdCByZXBlYXRlZFBocmFzZXMgPSB0aGlzLmZpbmRSZXBlYXRlZFBocmFzZXMod29yZHMpXHJcbiAgICBpZiAocmVwZWF0ZWRQaHJhc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgaXNzdWVzLnB1c2goJ1dpZWRlcmhvbHRlIFBocmFzZW4gZW50ZGVja3QnKVxyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKCdQcm9tcHQgenVyIFZlcm1laWR1bmcgdm9uIFdpZWRlcmhvbHVuZ2VuIGFucGFzc2VuJylcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUHLDvGZlIGF1ZiBTdHJ1a3R1clxyXG4gICAgaWYgKCFyZXNwb25zZS5pbmNsdWRlcygnIyMnKSAmJiAhcmVzcG9uc2UuaW5jbHVkZXMoJyoqJykpIHtcclxuICAgICAgaXNzdWVzLnB1c2goJ0ZlaGxlbmRlIFN0cnVrdHVyaWVydW5nIGRlciBBbnR3b3J0JylcclxuICAgICAgc3VnZ2VzdGlvbnMucHVzaCgnS2xhcmVyZSBGb3JtYXRpZXJ1bmdzYW53ZWlzdW5nZW4gaW0gUHJvbXB0JylcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNWYWxpZDogaXNzdWVzLmxlbmd0aCA9PT0gMCxcclxuICAgICAgaXNzdWVzLFxyXG4gICAgICBzdWdnZXN0aW9uc1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBwcml2YXRlIHN0YXRpYyBmaW5kUmVwZWF0ZWRQaHJhc2VzKHdvcmRzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgIC8vIFZlcmVpbmZhY2h0ZSBJbXBsZW1lbnRpZXJ1bmcgLSBrYW5uIGVyd2VpdGVydCB3ZXJkZW5cclxuICAgIGNvbnN0IHBocmFzZXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aCAtIDI7IGkrKykge1xyXG4gICAgICBjb25zdCBwaHJhc2UgPSB3b3Jkcy5zbGljZShpLCBpICsgMykuam9pbignICcpXHJcbiAgICAgIHBocmFzZXMuc2V0KHBocmFzZSwgKHBocmFzZXMuZ2V0KHBocmFzZSkgfHwgMCkgKyAxKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwaHJhc2VzLmVudHJpZXMoKSlcclxuICAgICAgLmZpbHRlcigoW18sIGNvdW50XSkgPT4gY291bnQgPiAxKVxyXG4gICAgICAubWFwKChbcGhyYXNlLCBfXSkgPT4gcGhyYXNlKVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiUHJvbXB0RW5naW5lZXIiLCJQUk9NUFRfVkFSSUFOVFMiLCJQVVJFIiwiRVhURU5ERUQiLCJjcmVhdGVVc2FiaWxpdHlQcm9tcHQiLCJhcHBDb250ZXh0IiwiaW5jbHVkZUV4YW1wbGVzIiwiY3VzdG9tUHJvbXB0IiwidmFyaWFudCIsImNvbnNvbGUiLCJsb2ciLCJzeXN0ZW1Qcm9tcHQiLCJnZXRQdXJlU3lzdGVtUHJvbXB0IiwiZ2V0RXh0ZW5kZWRTeXN0ZW1Qcm9tcHQiLCJzdHJ1Y3R1cmVkSW5wdXQiLCJmb3JtYXRTdHJ1Y3R1cmVkSW5wdXQiLCJleGFtcGxlcyIsImdldEV4YW1wbGVzIiwiaW5zdHJ1Y3Rpb25zIiwiZ2V0UHVyZUluc3RydWN0aW9ucyIsImdldEV4dGVuZGVkSW5zdHJ1Y3Rpb25zIiwibGVuZ3RoIiwiY3VzdG9tSW5zdHJ1Y3Rpb25zIiwiZm9ybWF0Q3VzdG9tUHJvbXB0IiwiZmluYWxQcm9tcHQiLCJzdWJzdHJpbmciLCJnZXRQdXJlSW5zdHJ1Y3Rpb25zV2l0aENhdGVnb3JpZXMiLCJhcHBEZXNjcmlwdGlvbiIsInVzZXJUYXNrIiwidmlld05hbWUiLCJzb3VyY2VDb2RlIiwiY3JlYXRlUmVmaW5lZFByb21wdCIsInByZXZpb3VzSXNzdWVzIiwiYmFzZVByb21wdCIsInJlZmluZW1lbnRzIiwiZ2V0UmVmaW5lbWVudHMiLCJtYXAiLCJpc3N1ZSIsImpvaW4iLCJjcmVhdGVBQlRlc3RQcm9tcHQiLCJ0ZXN0UHVyZSIsImNyZWF0ZUJvdGhWYXJpYW50cyIsInB1cmUiLCJleHRlbmRlZCIsIk1vZGVsU3BlY2lmaWNQcm9tcHRzIiwic3lzdGVtUm9sZSIsImZvY3VzQXJlYXMiLCJhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zIiwiUmVzcG9uc2VWYWxpZGF0b3IiLCJ2YWxpZGF0ZVJlc3BvbnNlIiwicmVzcG9uc2UiLCJpc3N1ZXMiLCJzdWdnZXN0aW9ucyIsInB1c2giLCJ3b3JkcyIsInNwbGl0IiwicmVwZWF0ZWRQaHJhc2VzIiwiZmluZFJlcGVhdGVkUGhyYXNlcyIsImluY2x1ZGVzIiwiaXNWYWxpZCIsInBocmFzZXMiLCJNYXAiLCJpIiwicGhyYXNlIiwic2xpY2UiLCJzZXQiLCJnZXQiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwiZmlsdGVyIiwiXyIsImNvdW50Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/promptEngineering.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/formdata-node","vendor-chunks/next","vendor-chunks/openai","vendor-chunks/tr46","vendor-chunks/@anthropic-ai","vendor-chunks/together-ai","vendor-chunks/web-streams-polyfill","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/event-target-shim","vendor-chunks/agentkeepalive","vendor-chunks/form-data-encoder","vendor-chunks/webidl-conversions","vendor-chunks/abort-controller","vendor-chunks/ms","vendor-chunks/humanize-ms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CKarim%5CDocuments%5CBachelorprojekt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();